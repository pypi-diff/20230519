# Comparing `tmp/starknet_devnet-0.5.1.tar.gz` & `tmp/starknet_devnet-0.5.2.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "starknet_devnet-0.5.1.tar", max compression
+gzip compressed data, was "starknet_devnet-0.5.2.tar", max compression
```

## Comparing `starknet_devnet-0.5.1.tar` & `starknet_devnet-0.5.2.tar`

### file list

```diff
@@ -1,59 +1,59 @@
--rw-r--r--   0        0        0     1067 2023-04-27 08:59:02.988418 starknet_devnet-0.5.1/LICENSE
--rw-r--r--   0        0        0     1054 2023-04-27 08:59:02.988418 starknet_devnet-0.5.1/README.md
--rw-r--r--   0        0        0     1820 2023-04-27 08:59:03.000419 starknet_devnet-0.5.1/pyproject.toml
--rw-r--r--   0        0        0   208485 2023-04-27 08:59:03.000419 starknet_devnet-0.5.1/starknet_devnet/ERC20_Mintable_OZ_0.2.0.json
--rw-r--r--   0        0        0    32743 2023-04-27 08:59:03.000419 starknet_devnet-0.5.1/starknet_devnet/MockStarknetMessaging.json
--rw-r--r--   0        0        0    35645 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/UDC_OZ_0.5.0.json
--rw-r--r--   0        0        0     2833 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/__init__.py
--rw-r--r--   0        0        0     2130 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/account.py
--rw-r--r--   0        0        0     3784 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/account_util.py
--rw-r--r--   0        0        0     2692 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/accounts.py
--rw-r--r--   0        0        0   118818 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/accounts_artifacts/OpenZeppelin/0.5.1/Account.cairo/Account.json
--rw-r--r--   0        0        0     1784 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/accounts_artifacts/OpenZeppelin/0.5.1/Account.cairo/Account_abi.json
--rw-r--r--   0        0        0     1866 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/block_info_generator.py
--rw-r--r--   0        0        0    12337 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blocks.py
--rw-r--r--   0        0        0        0 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/__init__.py
--rw-r--r--   0        0        0     7523 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/base.py
--rw-r--r--   0        0        0    14072 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/feeder_gateway.py
--rw-r--r--   0        0        0     2228 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/gateway.py
--rw-r--r--   0        0        0     3959 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/postman.py
--rw-r--r--   0        0        0        0 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/__init__.py
--rw-r--r--   0        0        0     2138 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/blocks.py
--rw-r--r--   0        0        0     2136 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/call.py
--rw-r--r--   0        0        0     2455 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/classes.py
--rw-r--r--   0        0        0     5643 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/misc.py
--rw-r--r--   0        0        0     4878 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/routes.py
--rw-r--r--   0        0        0    79264 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/rpc_spec.py
--rw-r--r--   0        0        0     7466 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/rpc_spec_write.py
--rw-r--r--   0        0        0     7264 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/schema.py
--rw-r--r--   0        0        0     1144 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/state.py
--rw-r--r--   0        0        0      929 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/storage.py
--rw-r--r--   0        0        0        0 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/structures/__init__.py
--rw-r--r--   0        0        0    22110 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/structures/payloads.py
--rw-r--r--   0        0        0     6703 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/structures/responses.py
--rw-r--r--   0        0        0     3069 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/structures/types.py
--rw-r--r--   0        0        0     6736 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/transactions.py
--rw-r--r--   0        0        0     3328 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/utils.py
--rw-r--r--   0        0        0      899 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/blueprints/shared.py
--rw-r--r--   0        0        0    23908 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/cairo_rs_py_patch.py
--rw-r--r--   0        0        0      877 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/chargeable_account.py
--rw-r--r--   0        0        0     2972 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/compiler.py
--rw-r--r--   0        0        0     1134 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/constants.py
--rw-r--r--   0        0        0      646 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/contract_class_wrapper.py
--rw-r--r--   0        0        0    13802 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/devnet_config.py
--rw-r--r--   0        0        0      784 2023-04-27 08:59:03.004418 starknet_devnet-0.5.1/starknet_devnet/dump.py
--rw-r--r--   0        0        0     5592 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/fee_token.py
--rw-r--r--   0        0        0     6872 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/forked_state.py
--rw-r--r--   0        0        0     1732 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/general_config.py
--rw-r--r--   0        0        0     8643 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/origin.py
--rw-r--r--   0        0        0    10193 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/postman_wrapper.py
--rw-r--r--   0        0        0     2005 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/predeployed_contract_wrapper.py
--rw-r--r--   0        0        0     4275 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/server.py
--rw-r--r--   0        0        0    39151 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/starknet_wrapper.py
--rw-r--r--   0        0        0     1988 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/state.py
--rw-r--r--   0        0        0     2573 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/state_archive.py
--rw-r--r--   0        0        0    11617 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/transactions.py
--rw-r--r--   0        0        0     1626 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/udc.py
--rw-r--r--   0        0        0     7968 2023-04-27 08:59:03.008419 starknet_devnet-0.5.1/starknet_devnet/util.py
--rw-r--r--   0        0        0     2437 1970-01-01 00:00:00.000000 starknet_devnet-0.5.1/setup.py
--rw-r--r--   0        0        0     2191 1970-01-01 00:00:00.000000 starknet_devnet-0.5.1/PKG-INFO
+-rw-r--r--   0        0        0     1067 2023-05-19 17:45:57.572392 starknet_devnet-0.5.2/LICENSE
+-rw-r--r--   0        0        0     1054 2023-05-19 17:45:57.572392 starknet_devnet-0.5.2/README.md
+-rw-r--r--   0        0        0     1820 2023-05-19 17:45:57.584392 starknet_devnet-0.5.2/pyproject.toml
+-rw-r--r--   0        0        0   208485 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/ERC20_Mintable_OZ_0.2.0.json
+-rw-r--r--   0        0        0    32739 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/MockStarknetMessaging.json
+-rw-r--r--   0        0        0    35645 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/UDC_OZ_0.5.0.json
+-rw-r--r--   0        0        0     2958 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/__init__.py
+-rw-r--r--   0        0        0     2130 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/account.py
+-rw-r--r--   0        0        0     3784 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/account_util.py
+-rw-r--r--   0        0        0     2692 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/accounts.py
+-rw-r--r--   0        0        0   118818 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/accounts_artifacts/OpenZeppelin/0.5.1/Account.cairo/Account.json
+-rw-r--r--   0        0        0     1784 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/accounts_artifacts/OpenZeppelin/0.5.1/Account.cairo/Account_abi.json
+-rw-r--r--   0        0        0     1866 2023-05-19 17:45:57.588392 starknet_devnet-0.5.2/starknet_devnet/block_info_generator.py
+-rw-r--r--   0        0        0    12337 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blocks.py
+-rw-r--r--   0        0        0        0 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/__init__.py
+-rw-r--r--   0        0        0     7523 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/base.py
+-rw-r--r--   0        0        0    14072 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/feeder_gateway.py
+-rw-r--r--   0        0        0     2228 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/gateway.py
+-rw-r--r--   0        0        0     3959 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/postman.py
+-rw-r--r--   0        0        0        0 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/__init__.py
+-rw-r--r--   0        0        0     2138 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/blocks.py
+-rw-r--r--   0        0        0     2136 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/call.py
+-rw-r--r--   0        0        0     2195 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/classes.py
+-rw-r--r--   0        0        0     6135 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/misc.py
+-rw-r--r--   0        0        0     4878 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/routes.py
+-rw-r--r--   0        0        0    95612 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/rpc_spec.py
+-rw-r--r--   0        0        0     5804 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/rpc_spec_write.py
+-rw-r--r--   0        0        0     6925 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/schema.py
+-rw-r--r--   0        0        0     1144 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/state.py
+-rw-r--r--   0        0        0      929 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/storage.py
+-rw-r--r--   0        0        0        0 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/structures/__init__.py
+-rw-r--r--   0        0        0    27958 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/structures/payloads.py
+-rw-r--r--   0        0        0     6544 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/structures/responses.py
+-rw-r--r--   0        0        0     3457 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/structures/types.py
+-rw-r--r--   0        0        0     6779 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/transactions.py
+-rw-r--r--   0        0        0     3542 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/utils.py
+-rw-r--r--   0        0        0      899 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/blueprints/shared.py
+-rw-r--r--   0        0        0    24763 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/cairo_rs_py_patch.py
+-rw-r--r--   0        0        0      877 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/chargeable_account.py
+-rw-r--r--   0        0        0     4989 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/compiler.py
+-rw-r--r--   0        0        0     1239 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/constants.py
+-rw-r--r--   0        0        0      646 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/contract_class_wrapper.py
+-rw-r--r--   0        0        0    14596 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/devnet_config.py
+-rw-r--r--   0        0        0      784 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/dump.py
+-rw-r--r--   0        0        0     5592 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/fee_token.py
+-rw-r--r--   0        0        0     6911 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/forked_state.py
+-rw-r--r--   0        0        0     1640 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/general_config.py
+-rw-r--r--   0        0        0     9005 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/origin.py
+-rw-r--r--   0        0        0    10009 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/postman_wrapper.py
+-rw-r--r--   0        0        0     1970 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/predeployed_contract_wrapper.py
+-rw-r--r--   0        0        0     4275 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/server.py
+-rw-r--r--   0        0        0    39209 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/starknet_wrapper.py
+-rw-r--r--   0        0        0     1988 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/state.py
+-rw-r--r--   0        0        0     2573 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/state_archive.py
+-rw-r--r--   0        0        0    11617 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/transactions.py
+-rw-r--r--   0        0        0     1626 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/udc.py
+-rw-r--r--   0        0        0     8580 2023-05-19 17:45:57.592393 starknet_devnet-0.5.2/starknet_devnet/util.py
+-rw-r--r--   0        0        0     2437 1970-01-01 00:00:00.000000 starknet_devnet-0.5.2/setup.py
+-rw-r--r--   0        0        0     2191 1970-01-01 00:00:00.000000 starknet_devnet-0.5.2/PKG-INFO
```

### Comparing `starknet_devnet-0.5.1/LICENSE` & `starknet_devnet-0.5.2/LICENSE`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/README.md` & `starknet_devnet-0.5.2/README.md`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/pyproject.toml` & `starknet_devnet-0.5.2/pyproject.toml`

 * *Files 1% similar despite different names*

```diff
@@ -1,34 +1,34 @@
 [tool.poetry]
 name = "starknet_devnet"
-version = "0.5.1"
+version = "0.5.2"
 description = "A local testnet for Starknet"
 authors = ["FabijanC <fabijan.corak@gmail.com>"]
 license = "MIT"
 
 readme = "README.md"
 repository = "https://github.com/0xSpaceShard/starknet-devnet"
 homepage = "https://github.com/0xSpaceShard/starknet-devnet"
 keywords = ["starknet", "cairo", "testnet", "local", "server"]
 
 [tool.poetry.dependencies]
 python = ">=3.9,<3.10"
 Flask = {extras = ["async"], version = "~2.0.3"}
 flask-cors = "~3.0.10"
-cairo-lang = "0.11.0.2"
+cairo-lang = "0.11.1.1"
 Werkzeug = "~2.0.3"
 cloudpickle = "~2.1.0"
-crypto-cpp-py = "~1.3.0"
+crypto-cpp-py = "~1.4.0"
 marshmallow = "~3.17.0"
 typing-extensions = "~4.3.0"
 gunicorn = "~20.1.0"
 marshmallow-dataclass = "~8.4"
 jsonschema = "~4.17.0"
 web3 = "~6.0.0"
-poseidon-py = "~0.1.2"
+poseidon-py = "~0.1.3"
 
 [tool.poetry.group.dev.dependencies]
 pylint = "~2.12.2"
 psutil = "~5.9.1"
 pytest-xdist = "~2.5.0"
 pylint-quotes = "~0.2.3"
 black = "~22.6"
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/ERC20_Mintable_OZ_0.2.0.json` & `starknet_devnet-0.5.2/starknet_devnet/ERC20_Mintable_OZ_0.2.0.json`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/MockStarknetMessaging.json` & `starknet_devnet-0.5.2/starknet_devnet/MockStarknetMessaging.json`

 * *Files 6% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.8722998903508772%*

 * *Differences: {"'abi'": "{7: {'inputs': [OrderedDict([('internalType', 'uint256'), ('name', 'toAddress'), "*

 * *          "('type', 'uint256')]), OrderedDict([('internalType', 'uint256'), ('name', 'selector'), "*

 * *          "('type', 'uint256')]), OrderedDict([('internalType', 'uint256[]'), ('name', 'payload'), "*

 * *          "('type', 'uint256[]')]), OrderedDict([('internalType', 'uint256'), ('name', 'nonce'), "*

 * *          "('type', 'uint256')])], 'name': 'cancelL1ToL2Message', 'outputs': {0: {'internalType': "*

 * *          "'bytes3 [â€¦]*

```diff
@@ -213,27 +213,14 @@
                     "type": "uint256"
                 }
             ],
             "name": "MessageToL2CancellationStarted",
             "type": "event"
         },
         {
-            "inputs": [],
-            "name": "MAX_L1_MSG_FEE",
-            "outputs": [
-                {
-                    "internalType": "uint256",
-                    "name": "",
-                    "type": "uint256"
-                }
-            ],
-            "stateMutability": "view",
-            "type": "function"
-        },
-        {
             "inputs": [
                 {
                     "internalType": "uint256",
                     "name": "toAddress",
                     "type": "uint256"
                 },
                 {
@@ -284,14 +271,27 @@
                     "type": "bytes32"
                 }
             ],
             "stateMutability": "nonpayable",
             "type": "function"
         },
         {
+            "inputs": [],
+            "name": "getMaxL1MsgFee",
+            "outputs": [
+                {
+                    "internalType": "uint256",
+                    "name": "",
+                    "type": "uint256"
+                }
+            ],
+            "stateMutability": "pure",
+            "type": "function"
+        },
+        {
             "inputs": [
                 {
                     "internalType": "bytes32",
                     "name": "msgHash",
                     "type": "bytes32"
                 }
             ],
@@ -491,14 +491,14 @@
                     "type": "bytes32"
                 }
             ],
             "stateMutability": "nonpayable",
             "type": "function"
         }
     ],
-    "bytecode": "0x608060405234801561001057600080fd5b506040516114cd3803806114cd8339818101604052602081101561003357600080fd5b81019080805190602001909291905050506100538161005960201b60201c565b50610106565b6100856040518060600160405280602d81526020016114a0602d91398261008860201b610ff11760201c565b50565b6000826040516020018082805190602001908083835b602083106100c1578051825260208201915060208101905060208303925061009e565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051602081830303815290604052805190602001209050818155505050565b61138b806101156000396000f3fe6080604052600436106100a75760003560e01c80637a98660b116100645780637a98660b146103d85780637cbe06d1146104905780638303bd8a146104bb5780639be446bf146104e6578063a46efaf314610535578063d1fb150914610584576100a7565b8063018cccdf146100ac578063067aba99146100d75780632c9dd5c0146101855780633e3aa6c5146102295780636170ff1b146102d157806377c7d7a914610389575b600080fd5b3480156100b857600080fd5b506100c161061e565b6040518082815260200191505060405180910390f35b3480156100e357600080fd5b50610183600480360360a08110156100fa57600080fd5b810190808035906020019092919080359060200190929190803590602001909291908035906020019064010000000081111561013557600080fd5b82018360208201111561014757600080fd5b8035906020019184602083028401116401000000008311171561016957600080fd5b909192939192939080359060200190929190505050610663565b005b34801561019157600080fd5b50610213600480360360408110156101a857600080fd5b8101908080359060200190929190803590602001906401000000008111156101cf57600080fd5b8201836020820111156101e157600080fd5b8035906020019184602083028401116401000000008311171561020357600080fd5b909192939192939050505061077c565b6040518082815260200191505060405180910390f35b6102b46004803603606081101561023f57600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561027057600080fd5b82018360208201111561028257600080fd5b803590602001918460208302840111640100000000831117156102a457600080fd5b9091929391929390505050610925565b604051808381526020018281526020019250505060405180910390f35b3480156102dd57600080fd5b50610373600480360360808110156102f457600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561032557600080fd5b82018360208201111561033757600080fd5b8035906020019184602083028401116401000000008311171561035957600080fd5b909192939192939080359060200190929190505050610ac6565b6040518082815260200191505060405180910390f35b34801561039557600080fd5b506103c2600480360360208110156103ac57600080fd5b8101908080359060200190929190505050610d79565b6040518082815260200191505060405180910390f35b3480156103e457600080fd5b5061047a600480360360808110156103fb57600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561042c57600080fd5b82018360208201111561043e57600080fd5b8035906020019184602083028401116401000000008311171561046057600080fd5b909192939192939080359060200190929190505050610d9c565b6040518082815260200191505060405180910390f35b34801561049c57600080fd5b506104a5610ef6565b6040518082815260200191505060405180910390f35b3480156104c757600080fd5b506104d0610f02565b6040518082815260200191505060405180910390f35b3480156104f257600080fd5b5061051f6004803603602081101561050957600080fd5b8101908080359060200190929190505050610f2a565b6040518082815260200191505060405180910390f35b34801561054157600080fd5b5061056e6004803603602081101561055857600080fd5b8101908080359060200190929190505050610f4d565b6040518082815260200191505060405180910390f35b34801561059057600080fd5b5061061c600480360360608110156105a757600080fd5b810190808035906020019092919080359060200190929190803590602001906401000000008111156105d857600080fd5b8201836020820111156105ea57600080fd5b8035906020019184602083028401116401000000008311171561060c57600080fd5b9091929391929390505050610f70565b005b600061065e6040518060400160405280602081526020017f535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4e4f4e434581525061106f565b905090565b600086868387878790508888604051602001808881526020018781526020018681526020018581526020018481526020018383602002808284378083019250505097505050505050505060405160208183030381529060405280519060200120905060006106cf6110f0565b60008381526020019081526020016000205411610754576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f494e56414c49445f4d4553534147455f544f5f434f4e53554d4500000000000081525060200191505060405180910390fd5b600061075e6110f0565b60008381526020019081526020016000208190555050505050505050565b600080843373ffffffffffffffffffffffffffffffffffffffff1685859050868660405160200180868152602001858152602001848152602001838360200280828437808301925050509550505050505060405160208183030381529060405280519060200120905060006107ef611118565b60008381526020019081526020016000205411610874576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f494e56414c49445f4d4553534147455f544f5f434f4e53554d4500000000000081525060200191505060405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff16857f7a06c571aa77f34d9706c51e5d8122b5595aebeaa34233bfe866f22befb973b1868660405180806020018281038252848482818152602001925060200280828437600081840152601f19601f820116905080830192505050935050505060405180910390a360016108fc611118565b600083815260200190815260200160002060008282540392505081905550809150509392505050565b600080670de0b6b3a76400003411156109a6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f4d41585f4c315f4d53475f4645455f455843454544454400000000000000000081525060200191505060405180910390fd5b60006109b061061e565b90506109f46040518060400160405280602081526020017f535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4e4f4e434581525060018301610ff1565b85873373ffffffffffffffffffffffffffffffffffffffff167fdb80dd488acf86d17c747445b0eabb5d57c541d3bd7b6b87af987858e5066b2b8888863460405180806020018481526020018381526020018281038252868682818152602001925060200280828437600081840152601f19601f8201169050808301925050509550505050505060405180910390a46000610a928888888886611140565b905060013401610aa06110f0565b600083815260200190815260200160002081905550808293509350505094509492505050565b600084863373ffffffffffffffffffffffffffffffffffffffff167f8abd2ec2e0a10c82f5b60ea00455fa96c41fd144f225fcc52b8d83d94f803ed887878760405180806020018381526020018281038252858582818152602001925060200280828437600081840152601f19601f82011690508083019250505094505050505060405180910390a46000610b5e8787878787611140565b90506000610b6a6110f0565b60008381526020019081526020016000205490506000811415610bf5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f4e4f5f4d4553534147455f544f5f43414e43454c00000000000000000000000081525060200191505060405180910390fd5b6000610bff6111c1565b60008481526020019081526020016000205490506000811415610c6d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806113346022913960400191505060405180910390fd5b6000610c77610f02565b8201905081811015610cf1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f43414e43454c5f414c4c4f5745445f54494d455f4f564552464c4f570000000081525060200191505060405180910390fd5b80421015610d4a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602481526020018061126a6024913960400191505060405180910390fd5b6000610d546110f0565b6000868152602001908152602001600020819055508394505050505095945050505050565b6000610d836110f0565b6000838152602001908152602001600020549050919050565b600084863373ffffffffffffffffffffffffffffffffffffffff167f2e00dccd686fd6823ec7dc3e125582aa82881b6ff5f6b5a73856e1ea8338a3be87878760405180806020018381526020018281038252858582818152602001925060200280828437600081840152601f19601f82011690508083019250505094505050505060405180910390a46000610e348787878787611140565b90506000610e406110f0565b600083815260200190815260200160002054905060008111610eca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f4e4f5f4d4553534147455f544f5f43414e43454c00000000000000000000000081525060200191505060405180910390fd5b42610ed36111c1565b600084815260200190815260200160002081905550819250505095945050505050565b670de0b6b3a764000081565b6000610f256040518060600160405280602d81526020016112be602d913961106f565b905090565b6000610f346111c1565b6000838152602001908152602001600020549050919050565b6000610f57611118565b6000838152602001908152602001600020549050919050565b600084848484905085856040516020018086815260200185815260200184815260200183836020028082843780830192505050955050505050506040516020818303038152906040528051906020012090506001610fcc611118565b6000838152602001908152602001600020600082825401925050819055505050505050565b6000826040516020018082805190602001908083835b6020831061102a5780518252602082019150602081019050602083039250611007565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051602081830303815290604052805190602001209050818155505050565b600080826040516020018082805190602001908083835b602083106110a95780518252602082019150602081019050602083039250611086565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040528051906020012090508054915050919050565b600061111360405180606001604052806026815260200161130e602691396111e9565b905090565b600061113b6040518060600160405280602381526020016112eb602391396111e9565b905090565b60003373ffffffffffffffffffffffffffffffffffffffff16868387878790508888604051602001808881526020018781526020018681526020018581526020018481526020018383602002808284378083019250505097505050505050505060405160208183030381529060405280519060200120905095945050505050565b60006111e460405180606001604052806030815260200161128e603091396111e9565b905090565b600080826040516020018082805190602001908083835b602083106112235780518252602082019150602081019050602083039250611200565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040528051906020012090508091505091905056fe4d4553534147455f43414e43454c4c4154494f4e5f4e4f545f414c4c4f5745445f594554535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f4d41505050494e47535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f44454c4159535441524b4e45545f312e305f4d5347494e475f4c32544f4c315f4d41505050494e47535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4d41505050494e475f56324d4553534147455f43414e43454c4c4154494f4e5f4e4f545f524551554553544544a26469706673582212202522ef86586c53feb04720136725ae17263e85cb7740983a43412d2b837605b464736f6c634300060c0033535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f44454c4159",
+    "bytecode": "0x608060405234801561001057600080fd5b506040516115c83803806115c88339818101604052602081101561003357600080fd5b81019080805190602001909291905050506100538161005960201b60201c565b50610106565b6100856040518060600160405280602d815260200161159b602d91398261008860201b6110cb1760201c565b50565b6000826040516020018082805190602001908083835b602083106100c1578051825260208201915060208101905060208303925061009e565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051602081830303815290604052805190602001209050818155505050565b611486806101156000396000f3fe6080604052600436106100a75760003560e01c806377c7d7a91161006457806377c7d7a9146103b45780637a98660b146104035780638303bd8a146104bb5780639be446bf146104e6578063a46efaf314610535578063d1fb150914610584576100a7565b8063018cccdf146100ac578063067aba99146100d75780632c9dd5c0146101855780633e3aa6c51461022957806354eccba4146102d15780636170ff1b146102fc575b600080fd5b3480156100b857600080fd5b506100c161061e565b6040518082815260200191505060405180910390f35b3480156100e357600080fd5b50610183600480360360a08110156100fa57600080fd5b810190808035906020019092919080359060200190929190803590602001909291908035906020019064010000000081111561013557600080fd5b82018360208201111561014757600080fd5b8035906020019184602083028401116401000000008311171561016957600080fd5b909192939192939080359060200190929190505050610663565b005b34801561019157600080fd5b50610213600480360360408110156101a857600080fd5b8101908080359060200190929190803590602001906401000000008111156101cf57600080fd5b8201836020820111156101e157600080fd5b8035906020019184602083028401116401000000008311171561020357600080fd5b909192939192939050505061077c565b6040518082815260200191505060405180910390f35b6102b46004803603606081101561023f57600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561027057600080fd5b82018360208201111561028257600080fd5b803590602001918460208302840111640100000000831117156102a457600080fd5b9091929391929390505050610925565b604051808381526020018281526020019250505060405180910390f35b3480156102dd57600080fd5b506102e6610b1e565b6040518082815260200191505060405180910390f35b34801561030857600080fd5b5061039e6004803603608081101561031f57600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561035057600080fd5b82018360208201111561036257600080fd5b8035906020019184602083028401116401000000008311171561038457600080fd5b909192939192939080359060200190929190505050610b2e565b6040518082815260200191505060405180910390f35b3480156103c057600080fd5b506103ed600480360360208110156103d757600080fd5b8101908080359060200190929190505050610de1565b6040518082815260200191505060405180910390f35b34801561040f57600080fd5b506104a56004803603608081101561042657600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561045757600080fd5b82018360208201111561046957600080fd5b8035906020019184602083028401116401000000008311171561048b57600080fd5b909192939192939080359060200190929190505050610e04565b6040518082815260200191505060405180910390f35b3480156104c757600080fd5b506104d0610f5e565b6040518082815260200191505060405180910390f35b3480156104f257600080fd5b5061051f6004803603602081101561050957600080fd5b8101908080359060200190929190505050610f86565b6040518082815260200191505060405180910390f35b34801561054157600080fd5b5061056e6004803603602081101561055857600080fd5b8101908080359060200190929190505050610fa9565b6040518082815260200191505060405180910390f35b34801561059057600080fd5b5061061c600480360360608110156105a757600080fd5b810190808035906020019092919080359060200190929190803590602001906401000000008111156105d857600080fd5b8201836020820111156105ea57600080fd5b8035906020019184602083028401116401000000008311171561060c57600080fd5b9091929391929390505050610fcc565b005b600061065e6040518060400160405280602081526020017f535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4e4f4e4345815250611149565b905090565b600086868387878790508888604051602001808881526020018781526020018681526020018581526020018481526020018383602002808284378083019250505097505050505050505060405160208183030381529060405280519060200120905060006106cf6111ca565b60008381526020019081526020016000205411610754576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f494e56414c49445f4d4553534147455f544f5f434f4e53554d4500000000000081525060200191505060405180910390fd5b600061075e6111ca565b60008381526020019081526020016000208190555050505050505050565b600080843373ffffffffffffffffffffffffffffffffffffffff1685859050868660405160200180868152602001858152602001848152602001838360200280828437808301925050509550505050505060405160208183030381529060405280519060200120905060006107ef6111f2565b60008381526020019081526020016000205411610874576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f494e56414c49445f4d4553534147455f544f5f434f4e53554d4500000000000081525060200191505060405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff16857f7a06c571aa77f34d9706c51e5d8122b5595aebeaa34233bfe866f22befb973b1868660405180806020018281038252848482818152602001925060200280828437600081840152601f19601f820116905080830192505050935050505060405180910390a360016108fc6111f2565b600083815260200190815260200160002060008282540392505081905550809150509392505050565b60008060003411610981576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806114306021913960400191505060405180910390fd5b610989610b1e565b3411156109fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f4d41585f4c315f4d53475f4645455f455843454544454400000000000000000081525060200191505060405180910390fd5b6000610a0861061e565b9050610a4c6040518060400160405280602081526020017f535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4e4f4e4345815250600183016110cb565b85873373ffffffffffffffffffffffffffffffffffffffff167fdb80dd488acf86d17c747445b0eabb5d57c541d3bd7b6b87af987858e5066b2b8888863460405180806020018481526020018381526020018281038252868682818152602001925060200280828437600081840152601f19601f8201169050808301925050509550505050505060405180910390a46000610aea888888888661121a565b905060013401610af86111ca565b600083815260200190815260200160002081905550808293509350505094509492505050565b6000670de0b6b3a7640000905090565b600084863373ffffffffffffffffffffffffffffffffffffffff167f8abd2ec2e0a10c82f5b60ea00455fa96c41fd144f225fcc52b8d83d94f803ed887878760405180806020018381526020018281038252858582818152602001925060200280828437600081840152601f19601f82011690508083019250505094505050505060405180910390a46000610bc6878787878761121a565b90506000610bd26111ca565b60008381526020019081526020016000205490506000811415610c5d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f4e4f5f4d4553534147455f544f5f43414e43454c00000000000000000000000081525060200191505060405180910390fd5b6000610c6761129b565b60008481526020019081526020016000205490506000811415610cd5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602281526020018061140e6022913960400191505060405180910390fd5b6000610cdf610f5e565b8201905081811015610d59576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f43414e43454c5f414c4c4f5745445f54494d455f4f564552464c4f570000000081525060200191505060405180910390fd5b80421015610db2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806113446024913960400191505060405180910390fd5b6000610dbc6111ca565b6000868152602001908152602001600020819055508394505050505095945050505050565b6000610deb6111ca565b6000838152602001908152602001600020549050919050565b600084863373ffffffffffffffffffffffffffffffffffffffff167f2e00dccd686fd6823ec7dc3e125582aa82881b6ff5f6b5a73856e1ea8338a3be87878760405180806020018381526020018281038252858582818152602001925060200280828437600081840152601f19601f82011690508083019250505094505050505060405180910390a46000610e9c878787878761121a565b90506000610ea86111ca565b600083815260200190815260200160002054905060008111610f32576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f4e4f5f4d4553534147455f544f5f43414e43454c00000000000000000000000081525060200191505060405180910390fd5b42610f3b61129b565b600084815260200190815260200160002081905550819250505095945050505050565b6000610f816040518060600160405280602d8152602001611398602d9139611149565b905090565b6000610f9061129b565b6000838152602001908152602001600020549050919050565b6000610fb36111f2565b6000838152602001908152602001600020549050919050565b6000848484849050858560405160200180868152602001858152602001848152602001838360200280828437808301925050509550505050505060405160208183030381529060405280519060200120905060016110286111f2565b6000838152602001908152602001600020600082825401925050819055508373ffffffffffffffffffffffffffffffffffffffff16857f4264ac208b5fde633ccdd42e0f12c3d6d443a4f3779bbf886925b94665b63a22858560405180806020018281038252848482818152602001925060200280828437600081840152601f19601f820116905080830192505050935050505060405180910390a35050505050565b6000826040516020018082805190602001908083835b6020831061110457805182526020820191506020810190506020830392506110e1565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051602081830303815290604052805190602001209050818155505050565b600080826040516020018082805190602001908083835b602083106111835780518252602082019150602081019050602083039250611160565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040528051906020012090508054915050919050565b60006111ed6040518060600160405280602681526020016113e8602691396112c3565b905090565b60006112156040518060600160405280602381526020016113c5602391396112c3565b905090565b60003373ffffffffffffffffffffffffffffffffffffffff16868387878790508888604051602001808881526020018781526020018681526020018581526020018481526020018383602002808284378083019250505097505050505050505060405160208183030381529060405280519060200120905095945050505050565b60006112be604051806060016040528060308152602001611368603091396112c3565b905090565b600080826040516020018082805190602001908083835b602083106112fd57805182526020820191506020810190506020830392506112da565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040528051906020012090508091505091905056fe4d4553534147455f43414e43454c4c4154494f4e5f4e4f545f414c4c4f5745445f594554535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f4d41505050494e47535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f44454c4159535441524b4e45545f312e305f4d5347494e475f4c32544f4c315f4d41505050494e47535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4d41505050494e475f56324d4553534147455f43414e43454c4c4154494f4e5f4e4f545f5245515545535445444c315f4d53475f4645455f4d5553545f42455f475245415445525f5448414e5f30a26469706673582212206832bd6f69c4d127fe16f6fa22657844a3435754761abd99302e3a751c33c18864736f6c634300060c0033535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f44454c4159",
     "contractName": "MockStarknetMessaging",
-    "deployedBytecode": "0x6080604052600436106100a75760003560e01c80637a98660b116100645780637a98660b146103d85780637cbe06d1146104905780638303bd8a146104bb5780639be446bf146104e6578063a46efaf314610535578063d1fb150914610584576100a7565b8063018cccdf146100ac578063067aba99146100d75780632c9dd5c0146101855780633e3aa6c5146102295780636170ff1b146102d157806377c7d7a914610389575b600080fd5b3480156100b857600080fd5b506100c161061e565b6040518082815260200191505060405180910390f35b3480156100e357600080fd5b50610183600480360360a08110156100fa57600080fd5b810190808035906020019092919080359060200190929190803590602001909291908035906020019064010000000081111561013557600080fd5b82018360208201111561014757600080fd5b8035906020019184602083028401116401000000008311171561016957600080fd5b909192939192939080359060200190929190505050610663565b005b34801561019157600080fd5b50610213600480360360408110156101a857600080fd5b8101908080359060200190929190803590602001906401000000008111156101cf57600080fd5b8201836020820111156101e157600080fd5b8035906020019184602083028401116401000000008311171561020357600080fd5b909192939192939050505061077c565b6040518082815260200191505060405180910390f35b6102b46004803603606081101561023f57600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561027057600080fd5b82018360208201111561028257600080fd5b803590602001918460208302840111640100000000831117156102a457600080fd5b9091929391929390505050610925565b604051808381526020018281526020019250505060405180910390f35b3480156102dd57600080fd5b50610373600480360360808110156102f457600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561032557600080fd5b82018360208201111561033757600080fd5b8035906020019184602083028401116401000000008311171561035957600080fd5b909192939192939080359060200190929190505050610ac6565b6040518082815260200191505060405180910390f35b34801561039557600080fd5b506103c2600480360360208110156103ac57600080fd5b8101908080359060200190929190505050610d79565b6040518082815260200191505060405180910390f35b3480156103e457600080fd5b5061047a600480360360808110156103fb57600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561042c57600080fd5b82018360208201111561043e57600080fd5b8035906020019184602083028401116401000000008311171561046057600080fd5b909192939192939080359060200190929190505050610d9c565b6040518082815260200191505060405180910390f35b34801561049c57600080fd5b506104a5610ef6565b6040518082815260200191505060405180910390f35b3480156104c757600080fd5b506104d0610f02565b6040518082815260200191505060405180910390f35b3480156104f257600080fd5b5061051f6004803603602081101561050957600080fd5b8101908080359060200190929190505050610f2a565b6040518082815260200191505060405180910390f35b34801561054157600080fd5b5061056e6004803603602081101561055857600080fd5b8101908080359060200190929190505050610f4d565b6040518082815260200191505060405180910390f35b34801561059057600080fd5b5061061c600480360360608110156105a757600080fd5b810190808035906020019092919080359060200190929190803590602001906401000000008111156105d857600080fd5b8201836020820111156105ea57600080fd5b8035906020019184602083028401116401000000008311171561060c57600080fd5b9091929391929390505050610f70565b005b600061065e6040518060400160405280602081526020017f535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4e4f4e434581525061106f565b905090565b600086868387878790508888604051602001808881526020018781526020018681526020018581526020018481526020018383602002808284378083019250505097505050505050505060405160208183030381529060405280519060200120905060006106cf6110f0565b60008381526020019081526020016000205411610754576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f494e56414c49445f4d4553534147455f544f5f434f4e53554d4500000000000081525060200191505060405180910390fd5b600061075e6110f0565b60008381526020019081526020016000208190555050505050505050565b600080843373ffffffffffffffffffffffffffffffffffffffff1685859050868660405160200180868152602001858152602001848152602001838360200280828437808301925050509550505050505060405160208183030381529060405280519060200120905060006107ef611118565b60008381526020019081526020016000205411610874576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f494e56414c49445f4d4553534147455f544f5f434f4e53554d4500000000000081525060200191505060405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff16857f7a06c571aa77f34d9706c51e5d8122b5595aebeaa34233bfe866f22befb973b1868660405180806020018281038252848482818152602001925060200280828437600081840152601f19601f820116905080830192505050935050505060405180910390a360016108fc611118565b600083815260200190815260200160002060008282540392505081905550809150509392505050565b600080670de0b6b3a76400003411156109a6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f4d41585f4c315f4d53475f4645455f455843454544454400000000000000000081525060200191505060405180910390fd5b60006109b061061e565b90506109f46040518060400160405280602081526020017f535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4e4f4e434581525060018301610ff1565b85873373ffffffffffffffffffffffffffffffffffffffff167fdb80dd488acf86d17c747445b0eabb5d57c541d3bd7b6b87af987858e5066b2b8888863460405180806020018481526020018381526020018281038252868682818152602001925060200280828437600081840152601f19601f8201169050808301925050509550505050505060405180910390a46000610a928888888886611140565b905060013401610aa06110f0565b600083815260200190815260200160002081905550808293509350505094509492505050565b600084863373ffffffffffffffffffffffffffffffffffffffff167f8abd2ec2e0a10c82f5b60ea00455fa96c41fd144f225fcc52b8d83d94f803ed887878760405180806020018381526020018281038252858582818152602001925060200280828437600081840152601f19601f82011690508083019250505094505050505060405180910390a46000610b5e8787878787611140565b90506000610b6a6110f0565b60008381526020019081526020016000205490506000811415610bf5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f4e4f5f4d4553534147455f544f5f43414e43454c00000000000000000000000081525060200191505060405180910390fd5b6000610bff6111c1565b60008481526020019081526020016000205490506000811415610c6d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806113346022913960400191505060405180910390fd5b6000610c77610f02565b8201905081811015610cf1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f43414e43454c5f414c4c4f5745445f54494d455f4f564552464c4f570000000081525060200191505060405180910390fd5b80421015610d4a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602481526020018061126a6024913960400191505060405180910390fd5b6000610d546110f0565b6000868152602001908152602001600020819055508394505050505095945050505050565b6000610d836110f0565b6000838152602001908152602001600020549050919050565b600084863373ffffffffffffffffffffffffffffffffffffffff167f2e00dccd686fd6823ec7dc3e125582aa82881b6ff5f6b5a73856e1ea8338a3be87878760405180806020018381526020018281038252858582818152602001925060200280828437600081840152601f19601f82011690508083019250505094505050505060405180910390a46000610e348787878787611140565b90506000610e406110f0565b600083815260200190815260200160002054905060008111610eca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f4e4f5f4d4553534147455f544f5f43414e43454c00000000000000000000000081525060200191505060405180910390fd5b42610ed36111c1565b600084815260200190815260200160002081905550819250505095945050505050565b670de0b6b3a764000081565b6000610f256040518060600160405280602d81526020016112be602d913961106f565b905090565b6000610f346111c1565b6000838152602001908152602001600020549050919050565b6000610f57611118565b6000838152602001908152602001600020549050919050565b600084848484905085856040516020018086815260200185815260200184815260200183836020028082843780830192505050955050505050506040516020818303038152906040528051906020012090506001610fcc611118565b6000838152602001908152602001600020600082825401925050819055505050505050565b6000826040516020018082805190602001908083835b6020831061102a5780518252602082019150602081019050602083039250611007565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051602081830303815290604052805190602001209050818155505050565b600080826040516020018082805190602001908083835b602083106110a95780518252602082019150602081019050602083039250611086565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040528051906020012090508054915050919050565b600061111360405180606001604052806026815260200161130e602691396111e9565b905090565b600061113b6040518060600160405280602381526020016112eb602391396111e9565b905090565b60003373ffffffffffffffffffffffffffffffffffffffff16868387878790508888604051602001808881526020018781526020018681526020018581526020018481526020018383602002808284378083019250505097505050505050505060405160208183030381529060405280519060200120905095945050505050565b60006111e460405180606001604052806030815260200161128e603091396111e9565b905090565b600080826040516020018082805190602001908083835b602083106112235780518252602082019150602081019050602083039250611200565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040528051906020012090508091505091905056fe4d4553534147455f43414e43454c4c4154494f4e5f4e4f545f414c4c4f5745445f594554535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f4d41505050494e47535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f44454c4159535441524b4e45545f312e305f4d5347494e475f4c32544f4c315f4d41505050494e47535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4d41505050494e475f56324d4553534147455f43414e43454c4c4154494f4e5f4e4f545f524551554553544544a26469706673582212202522ef86586c53feb04720136725ae17263e85cb7740983a43412d2b837605b464736f6c634300060c0033",
+    "deployedBytecode": "0x6080604052600436106100a75760003560e01c806377c7d7a91161006457806377c7d7a9146103b45780637a98660b146104035780638303bd8a146104bb5780639be446bf146104e6578063a46efaf314610535578063d1fb150914610584576100a7565b8063018cccdf146100ac578063067aba99146100d75780632c9dd5c0146101855780633e3aa6c51461022957806354eccba4146102d15780636170ff1b146102fc575b600080fd5b3480156100b857600080fd5b506100c161061e565b6040518082815260200191505060405180910390f35b3480156100e357600080fd5b50610183600480360360a08110156100fa57600080fd5b810190808035906020019092919080359060200190929190803590602001909291908035906020019064010000000081111561013557600080fd5b82018360208201111561014757600080fd5b8035906020019184602083028401116401000000008311171561016957600080fd5b909192939192939080359060200190929190505050610663565b005b34801561019157600080fd5b50610213600480360360408110156101a857600080fd5b8101908080359060200190929190803590602001906401000000008111156101cf57600080fd5b8201836020820111156101e157600080fd5b8035906020019184602083028401116401000000008311171561020357600080fd5b909192939192939050505061077c565b6040518082815260200191505060405180910390f35b6102b46004803603606081101561023f57600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561027057600080fd5b82018360208201111561028257600080fd5b803590602001918460208302840111640100000000831117156102a457600080fd5b9091929391929390505050610925565b604051808381526020018281526020019250505060405180910390f35b3480156102dd57600080fd5b506102e6610b1e565b6040518082815260200191505060405180910390f35b34801561030857600080fd5b5061039e6004803603608081101561031f57600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561035057600080fd5b82018360208201111561036257600080fd5b8035906020019184602083028401116401000000008311171561038457600080fd5b909192939192939080359060200190929190505050610b2e565b6040518082815260200191505060405180910390f35b3480156103c057600080fd5b506103ed600480360360208110156103d757600080fd5b8101908080359060200190929190505050610de1565b6040518082815260200191505060405180910390f35b34801561040f57600080fd5b506104a56004803603608081101561042657600080fd5b8101908080359060200190929190803590602001909291908035906020019064010000000081111561045757600080fd5b82018360208201111561046957600080fd5b8035906020019184602083028401116401000000008311171561048b57600080fd5b909192939192939080359060200190929190505050610e04565b6040518082815260200191505060405180910390f35b3480156104c757600080fd5b506104d0610f5e565b6040518082815260200191505060405180910390f35b3480156104f257600080fd5b5061051f6004803603602081101561050957600080fd5b8101908080359060200190929190505050610f86565b6040518082815260200191505060405180910390f35b34801561054157600080fd5b5061056e6004803603602081101561055857600080fd5b8101908080359060200190929190505050610fa9565b6040518082815260200191505060405180910390f35b34801561059057600080fd5b5061061c600480360360608110156105a757600080fd5b810190808035906020019092919080359060200190929190803590602001906401000000008111156105d857600080fd5b8201836020820111156105ea57600080fd5b8035906020019184602083028401116401000000008311171561060c57600080fd5b9091929391929390505050610fcc565b005b600061065e6040518060400160405280602081526020017f535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4e4f4e4345815250611149565b905090565b600086868387878790508888604051602001808881526020018781526020018681526020018581526020018481526020018383602002808284378083019250505097505050505050505060405160208183030381529060405280519060200120905060006106cf6111ca565b60008381526020019081526020016000205411610754576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f494e56414c49445f4d4553534147455f544f5f434f4e53554d4500000000000081525060200191505060405180910390fd5b600061075e6111ca565b60008381526020019081526020016000208190555050505050505050565b600080843373ffffffffffffffffffffffffffffffffffffffff1685859050868660405160200180868152602001858152602001848152602001838360200280828437808301925050509550505050505060405160208183030381529060405280519060200120905060006107ef6111f2565b60008381526020019081526020016000205411610874576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601a8152602001807f494e56414c49445f4d4553534147455f544f5f434f4e53554d4500000000000081525060200191505060405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff16857f7a06c571aa77f34d9706c51e5d8122b5595aebeaa34233bfe866f22befb973b1868660405180806020018281038252848482818152602001925060200280828437600081840152601f19601f820116905080830192505050935050505060405180910390a360016108fc6111f2565b600083815260200190815260200160002060008282540392505081905550809150509392505050565b60008060003411610981576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001806114306021913960400191505060405180910390fd5b610989610b1e565b3411156109fe576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260178152602001807f4d41585f4c315f4d53475f4645455f455843454544454400000000000000000081525060200191505060405180910390fd5b6000610a0861061e565b9050610a4c6040518060400160405280602081526020017f535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4e4f4e4345815250600183016110cb565b85873373ffffffffffffffffffffffffffffffffffffffff167fdb80dd488acf86d17c747445b0eabb5d57c541d3bd7b6b87af987858e5066b2b8888863460405180806020018481526020018381526020018281038252868682818152602001925060200280828437600081840152601f19601f8201169050808301925050509550505050505060405180910390a46000610aea888888888661121a565b905060013401610af86111ca565b600083815260200190815260200160002081905550808293509350505094509492505050565b6000670de0b6b3a7640000905090565b600084863373ffffffffffffffffffffffffffffffffffffffff167f8abd2ec2e0a10c82f5b60ea00455fa96c41fd144f225fcc52b8d83d94f803ed887878760405180806020018381526020018281038252858582818152602001925060200280828437600081840152601f19601f82011690508083019250505094505050505060405180910390a46000610bc6878787878761121a565b90506000610bd26111ca565b60008381526020019081526020016000205490506000811415610c5d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f4e4f5f4d4553534147455f544f5f43414e43454c00000000000000000000000081525060200191505060405180910390fd5b6000610c6761129b565b60008481526020019081526020016000205490506000811415610cd5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602281526020018061140e6022913960400191505060405180910390fd5b6000610cdf610f5e565b8201905081811015610d59576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601c8152602001807f43414e43454c5f414c4c4f5745445f54494d455f4f564552464c4f570000000081525060200191505060405180910390fd5b80421015610db2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806113446024913960400191505060405180910390fd5b6000610dbc6111ca565b6000868152602001908152602001600020819055508394505050505095945050505050565b6000610deb6111ca565b6000838152602001908152602001600020549050919050565b600084863373ffffffffffffffffffffffffffffffffffffffff167f2e00dccd686fd6823ec7dc3e125582aa82881b6ff5f6b5a73856e1ea8338a3be87878760405180806020018381526020018281038252858582818152602001925060200280828437600081840152601f19601f82011690508083019250505094505050505060405180910390a46000610e9c878787878761121a565b90506000610ea86111ca565b600083815260200190815260200160002054905060008111610f32576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260148152602001807f4e4f5f4d4553534147455f544f5f43414e43454c00000000000000000000000081525060200191505060405180910390fd5b42610f3b61129b565b600084815260200190815260200160002081905550819250505095945050505050565b6000610f816040518060600160405280602d8152602001611398602d9139611149565b905090565b6000610f9061129b565b6000838152602001908152602001600020549050919050565b6000610fb36111f2565b6000838152602001908152602001600020549050919050565b6000848484849050858560405160200180868152602001858152602001848152602001838360200280828437808301925050509550505050505060405160208183030381529060405280519060200120905060016110286111f2565b6000838152602001908152602001600020600082825401925050819055508373ffffffffffffffffffffffffffffffffffffffff16857f4264ac208b5fde633ccdd42e0f12c3d6d443a4f3779bbf886925b94665b63a22858560405180806020018281038252848482818152602001925060200280828437600081840152601f19601f820116905080830192505050935050505060405180910390a35050505050565b6000826040516020018082805190602001908083835b6020831061110457805182526020820191506020810190506020830392506110e1565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051602081830303815290604052805190602001209050818155505050565b600080826040516020018082805190602001908083835b602083106111835780518252602082019150602081019050602083039250611160565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040528051906020012090508054915050919050565b60006111ed6040518060600160405280602681526020016113e8602691396112c3565b905090565b60006112156040518060600160405280602381526020016113c5602391396112c3565b905090565b60003373ffffffffffffffffffffffffffffffffffffffff16868387878790508888604051602001808881526020018781526020018681526020018581526020018481526020018383602002808284378083019250505097505050505050505060405160208183030381529060405280519060200120905095945050505050565b60006112be604051806060016040528060308152602001611368603091396112c3565b905090565b600080826040516020018082805190602001908083835b602083106112fd57805182526020820191506020810190506020830392506112da565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040528051906020012090508091505091905056fe4d4553534147455f43414e43454c4c4154494f4e5f4e4f545f414c4c4f5745445f594554535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f4d41505050494e47535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f43414e43454c4c4154494f4e5f44454c4159535441524b4e45545f312e305f4d5347494e475f4c32544f4c315f4d41505050494e47535441524b4e45545f312e305f4d5347494e475f4c31544f4c325f4d41505050494e475f56324d4553534147455f43414e43454c4c4154494f4e5f4e4f545f5245515545535445444c315f4d53475f4645455f4d5553545f42455f475245415445525f5448414e5f30a26469706673582212206832bd6f69c4d127fe16f6fa22657844a3435754761abd99302e3a751c33c18864736f6c634300060c0033",
     "deployedLinkReferences": {},
     "linkReferences": {},
     "sourceName": "contracts/solidity/MockStarknetMessaging.sol"
 }
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/UDC_OZ_0.5.0.json` & `starknet_devnet-0.5.2/starknet_devnet/UDC_OZ_0.5.0.json`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/__init__.py` & `starknet_devnet-0.5.2/starknet_devnet/__init__.py`

 * *Files 12% similar despite different names*

```diff
@@ -9,15 +9,15 @@
 
 # pylint: disable=unused-import
 # pylint: disable=import-outside-toplevel
 
 import os
 import sys
 
-__version__ = "0.5.1"
+__version__ = "0.5.2"
 
 
 def _patch_pedersen_hash():
     """
     Improves performance by substituting the default Python implementation of Pedersen hash
     with Software Mansion's Python wrapper of C++ implementation.
     """
@@ -45,14 +45,17 @@
     )
     starkware.cairo.common.poseidon_hash.poseidon_hash_func = getattr(
         poseidon_hash, "poseidon_hash_func"
     )
     starkware.cairo.common.poseidon_hash.poseidon_hash_many = getattr(
         poseidon_hash, "poseidon_hash_many"
     )
+    starkware.cairo.common.poseidon_hash.poseidon_hash_single = getattr(
+        poseidon_hash, "poseidon_hash_single"
+    )
     starkware.cairo.common.poseidon_hash.poseidon_perm = getattr(
         poseidon_hash, "poseidon_perm"
     )
 
 
 _patch_poseidon_hash()
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/account.py` & `starknet_devnet-0.5.2/starknet_devnet/account.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/account_util.py` & `starknet_devnet-0.5.2/starknet_devnet/account_util.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/accounts.py` & `starknet_devnet-0.5.2/starknet_devnet/accounts.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/accounts_artifacts/OpenZeppelin/0.5.1/Account.cairo/Account.json` & `starknet_devnet-0.5.2/starknet_devnet/accounts_artifacts/OpenZeppelin/0.5.1/Account.cairo/Account.json`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/accounts_artifacts/OpenZeppelin/0.5.1/Account.cairo/Account_abi.json` & `starknet_devnet-0.5.2/starknet_devnet/accounts_artifacts/OpenZeppelin/0.5.1/Account.cairo/Account_abi.json`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/block_info_generator.py` & `starknet_devnet-0.5.2/starknet_devnet/block_info_generator.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blocks.py` & `starknet_devnet-0.5.2/starknet_devnet/blocks.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/base.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/base.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/feeder_gateway.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/feeder_gateway.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/gateway.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/gateway.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/postman.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/postman.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/blocks.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/blocks.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/call.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/call.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/classes.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/classes.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,18 +1,14 @@
 """
 RPC classes endpoints
 """
-
-from starkware.starknet.services.api.contract_class.contract_class import (
-    DeprecatedCompiledClass,
-)
 from starkware.starkware_utils.error_handling import StarkException
 
 from starknet_devnet.blueprints.rpc.schema import validate_schema
-from starknet_devnet.blueprints.rpc.structures.payloads import rpc_contract_class
+from starknet_devnet.blueprints.rpc.structures.payloads import contract_class_from_dict
 from starknet_devnet.blueprints.rpc.structures.types import (
     Address,
     BlockId,
     Felt,
     RpcError,
 )
 from starknet_devnet.blueprints.rpc.utils import assert_block_id_is_valid, rpc_felt
@@ -30,17 +26,15 @@
     try:
         result_dict = await state.starknet_wrapper.get_class_by_hash(
             class_hash=int(class_hash, 16)
         )
     except StarknetDevnetException as ex:
         raise RpcError.from_spec_name("CLASS_HASH_NOT_FOUND") from ex
 
-    # only works with cairo 0 classes
-    loaded_class = DeprecatedCompiledClass.load(result_dict)
-    return rpc_contract_class(loaded_class)
+    return contract_class_from_dict(result_dict)
 
 
 @validate_schema("getClassHashAt")
 async def get_class_hash_at(block_id: BlockId, contract_address: Address) -> Felt:
     """
     Get the contract class hash in the given block for the contract deployed at the given address
     """
@@ -63,12 +57,11 @@
     """
     await assert_block_id_is_valid(block_id)
 
     try:
         result_dict = await state.starknet_wrapper.get_class_by_address(
             int(contract_address, 16), block_id
         )
-        contract_class = DeprecatedCompiledClass.load(result_dict)
     except StarkException as ex:
         raise RpcError.from_spec_name("CONTRACT_NOT_FOUND") from ex
 
-    return rpc_contract_class(contract_class)
+    return contract_class_from_dict(result_dict)
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/misc.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/misc.py`

 * *Files 6% similar despite different names*

```diff
@@ -37,30 +37,39 @@
 def check_address(address, event):
     """
     Check address.
     """
     return event.from_address == int(address, 0)
 
 
-def check_keys(keys, event):
+def _check_keys(keys: List[List[Felt]], event):
     """
     Check keys.
-    """
-    return bool(set(event.keys) & set(keys))
+
+    Check every key in an event against related list of accepted values.
+    n-th array in keys (keys[n]) lists all possible values of n-th key in an
+    event (event.keys[n]). Empty list of accepted_keys, means that all keys
+    should be accepted.
+    """
+    for event_key, accepted_keys in zip(event.keys, keys):
+        if len(accepted_keys) > 0 and event_key not in accepted_keys:
+            return False
+
+    return True
 
 
 def _get_events_from_block(block: StarknetBlock, address, keys):
     """
     Return filtered events.
     """
     events = []
     for receipt, event in [
         (r, e) for r in block.transaction_receipts for e in r.events
     ]:
-        if check_keys(keys, event) and check_address(address, event):
+        if _check_keys(keys, event) and check_address(address, event):
             _event: EmittedEvent = {
                 "from_address": rpc_felt(event.from_address),
                 "keys": [rpc_felt(e) for e in event.keys],
                 "data": [rpc_felt(d) for d in event.data],
                 # hash and number defaulting to 0 if None (if pending)
                 "block_hash": rpc_felt(block.block_hash or "0x0"),
                 "block_number": block.block_number or 0,
@@ -135,15 +144,19 @@
     except ValueError as ex:
         raise RpcError(
             code=PredefinedRpcErrorCode.INVALID_PARAMS.value,
             message=f"invalid chunk_size: '{filter.get('chunk_size')}'",
         ) from ex
 
     address = filter.get("address")
-    keys = [int(k, 0) for k in filter.get("keys")]
+
+    if filter.get("keys") is not None:
+        keys = [[int(key, 0) for key in keys] for keys in filter.get("keys")]
+    else:
+        keys = []
     # Optional parameter
     continuation_token = int(filter.get("continuation_token", "0"))
 
     events = []
 
     for block_number in block_range:
         block = await state.starknet_wrapper.blocks.get_by_number(block_number)
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/routes.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/routes.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/rpc_spec.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/rpc_spec.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,17 +1,16 @@
 # pylint: disable=too-many-lines, missing-module-docstring
-# NOTE: This is modified version of 0.2.1 spec
-# Some usages of "oneOf" has been replaced by "anyOf"
-# and one method has been fixed
+# NOTE: This is modified version of 0.3.0-rc1 spec
+# All usages of "oneOf" have been replaced by "anyOf"
 RPC_SPECIFICATION = r"""
 {
     "openrpc": "1.0.0-rc1",
     "info": {
-        "version": "0.45.0",
-        "title": "Starknet Node API",
+        "version": "0.50.0",
+        "title": "StarkNet Node API",
         "license": {}
     },
     "servers": [],
     "methods": [
         {
             "name": "starknet_getBlockWithTxHashes",
             "summary": "Get block information with transaction hashes given the block id",
@@ -91,15 +90,22 @@
                     }
                 }
             ],
             "result": {
                 "name": "result",
                 "description": "The information about the state update of the requested block",
                 "schema": {
-                    "$ref": "#/components/schemas/STATE_UPDATE"
+                    "anyOf": [
+                        {
+                            "$ref": "#/components/schemas/STATE_UPDATE"
+                        },
+                        {
+                            "$ref": "#/components/schemas/PENDING_STATE_UPDATE"
+                        }
+                    ]
                 }
             },
             "errors": [
                 {
                     "$ref": "#/components/errors/BLOCK_NOT_FOUND"
                 }
             ]
@@ -263,15 +269,22 @@
                     }
                 }
             ],
             "result": {
                 "name": "result",
                 "description": "The contract class, if found",
                 "schema": {
-                    "$ref": "#/components/schemas/CONTRACT_CLASS"
+                    "anyOf": [
+                        {
+                            "$ref": "#/components/schemas/DEPRECATED_CONTRACT_CLASS"
+                        },
+                        {
+                            "$ref": "#/components/schemas/CONTRACT_CLASS"
+                        }
+                    ]
                 }
             },
             "errors": [
                 {
                     "$ref": "#/components/errors/BLOCK_NOT_FOUND"
                 },
                 {
@@ -337,15 +350,22 @@
                     }
                 }
             ],
             "result": {
                 "name": "result",
                 "description": "The contract class",
                 "schema": {
-                    "$ref": "#/components/schemas/CONTRACT_CLASS"
+                    "anyOf": [
+                        {
+                            "$ref": "#/components/schemas/DEPRECATED_CONTRACT_CLASS"
+                        },
+                        {
+                            "$ref": "#/components/schemas/CONTRACT_CLASS"
+                        }
+                    ]
                 }
             },
             "errors": [
                 {
                     "$ref": "#/components/errors/BLOCK_NOT_FOUND"
                 },
                 {
@@ -380,15 +400,15 @@
                 {
                     "$ref": "#/components/errors/BLOCK_NOT_FOUND"
                 }
             ]
         },
         {
             "name": "starknet_call",
-            "summary": "call a starknet function without creating a Starknet transaction",
+            "summary": "call a starknet function without creating a StarkNet transaction",
             "description": "Calls a function in a contract and returns the return value.  Using this call will not create a transaction; hence, will not change the state",
             "params": [
                 {
                     "name": "request",
                     "summary": "The details of the function call",
                     "schema": {
                         "$ref": "#/components/schemas/FUNCTION_CALL"
@@ -431,39 +451,47 @@
                 {
                     "$ref": "#/components/errors/BLOCK_NOT_FOUND"
                 }
             ]
         },
         {
             "name": "starknet_estimateFee",
-            "summary": "estimate the fee for a given Starknet transaction",
-            "description": "estimates the resources required by a transaction relative to a given state",
+            "summary": "estimate the fee for of StarkNet transactions",
+            "description": "estimates the resources required by transactions when applyed on a given state",
             "params": [
                 {
                     "name": "request",
                     "summary": "The transaction to estimate",
                     "schema": {
-                        "$ref": "#/components/schemas/BROADCASTED_TXN"
+                        "type": "array",
+                        "description": "a sequence of transactions to estimate, running each transaction on the state resulting from applying all the previous ones",
+                        "items": {
+                            "$ref": "#/components/schemas/BROADCASTED_TXN"
+                        }
                     },
                     "required": true
                 },
                 {
                     "name": "block_id",
                     "description": "The hash of the requested block, or number (height) of the requested block, or a block tag, for the block referencing the state or call the transaction on.",
                     "required": true,
                     "schema": {
                         "$ref": "#/components/schemas/BLOCK_ID"
                     }
                 }
             ],
             "result": {
                 "name": "result",
-                "description": "the fee estimation",
+                "description": "the fee estimations",
                 "schema": {
-                    "$ref": "#/components/schemas/FEE_ESTIMATE"
+                    "type": "array",
+                    "description": "a sequence of fee estimatione where the i'th estimate corresponds to the i'th transaction",
+                    "items": {
+                        "$ref": "#/components/schemas/FEE_ESTIMATE"
+                    }
                 }
             },
             "errors": [
                 {
                     "$ref": "#/components/errors/CONTRACT_NOT_FOUND"
                 },
                 {
@@ -520,15 +548,15 @@
                 {
                     "$ref": "#/components/errors/NO_BLOCKS"
                 }
             ]
         },
         {
             "name": "starknet_chainId",
-            "summary": "Return the currently configured Starknet chain id",
+            "summary": "Return the currently configured StarkNet chain id",
             "params": [],
             "result": {
                 "name": "result",
                 "description": "The chain id this node is connected to",
                 "schema": {
                     "$ref": "#/components/schemas/CHAIN_ID"
                 }
@@ -554,15 +582,15 @@
             "summary": "Returns an object about the sync status, or false if the node is not synching",
             "params": [],
             "result": {
                 "name": "syncing",
                 "summary": "The state of the synchronization, or false if the node is not synchronizing",
                 "description": "The status of the node, if it is currently synchronizing state. FALSE otherwise",
                 "schema": {
-                    "oneOf": [
+                    "anyOf": [
                         {
                             "type": "boolean",
                             "description": "only legal value is FALSE here"
                         },
                         {
                             "$ref": "#/components/schemas/SYNC_STATUS"
                         }
@@ -591,42 +619,29 @@
                     }
                 }
             ],
             "result": {
                 "name": "events",
                 "description": "All the event objects matching the filter",
                 "schema": {
-                    "type": "object",
-                    "properties": {
-                        "events": {
-                            "type": "array",
-                            "title": "Matching Events",
-                            "items": {
-                                "$ref": "#/components/schemas/EMITTED_EVENT"
-                            }
-                        },
-                        "continuation_token": {
-                            "description": "a pointer to the last element of the delivered page, use this token in a subsequent query to obtain the next page",
-                            "type": "string"
-                        }
-                    },
-                    "required": [
-                        "events"
-                    ]
+                    "$ref": "#/components/schemas/EVENTS_CHUNK"
                 }
             },
             "errors": [
                 {
                     "$ref": "#/components/errors/PAGE_SIZE_TOO_BIG"
                 },
                 {
                     "$ref": "#/components/errors/INVALID_CONTINUATION_TOKEN"
                 },
                 {
                     "$ref": "#/components/errors/BLOCK_NOT_FOUND"
+                },
+                {
+                    "$ref": "#/components/errors/TOO_MANY_KEYS_IN_FILTER"
                 }
             ]
         },
         {
             "name": "starknet_getNonce",
             "summary": "Get the nonce associated with the given address in the given block",
             "params": [
@@ -663,19 +678,38 @@
                 }
             ]
         }
     ],
     "components": {
         "contentDescriptors": {},
         "schemas": {
+            "EVENTS_CHUNK": {
+                "type": "object",
+                "properties": {
+                    "events": {
+                        "type": "array",
+                        "title": "Matching Events",
+                        "items": {
+                            "$ref": "#/components/schemas/EMITTED_EVENT"
+                        }
+                    },
+                    "continuation_token": {
+                        "description": "Use this token in a subsequent query to obtain the next page. Should not appear if there are no more pages.",
+                        "type": "string"
+                    }
+                },
+                "required": [
+                    "events"
+                ]
+            },
             "RESULT_PAGE_REQUEST": {
                 "type": "object",
                 "properties": {
                     "continuation_token": {
-                        "description": "a pointer to the last element of the delivered page, use this token in a subsequent query to obtain the next page",
+                        "description": "The token returned from the previous query. If no token is provided the first page is returned.",
                         "type": "string"
                     },
                     "chunk_size": {
                         "type": "integer",
                         "minimum": 1
                     }
                 },
@@ -703,28 +737,36 @@
                                 "title": "The number of the block in which the event was emitted",
                                 "$ref": "#/components/schemas/BLOCK_NUMBER"
                             },
                             "transaction_hash": {
                                 "title": "The transaction that emitted the event",
                                 "$ref": "#/components/schemas/TXN_HASH"
                             }
-                        }
+                        },
+                        "required": [
+                            "block_hash",
+                            "block_number",
+                            "transaction_hash"
+                        ]
                     }
                 ]
             },
             "EVENT": {
-                "title": "A Starknet event",
+                "title": "A StarkNet event",
                 "allOf": [
                     {
                         "type": "object",
                         "properties": {
                             "from_address": {
                                 "$ref": "#/components/schemas/ADDRESS"
                             }
-                        }
+                        },
+                        "required": [
+                            "from_address"
+                        ]
                     },
                     {
                         "$ref": "#/components/schemas/EVENT_CONTENT"
                     }
                 ]
             },
             "EVENT_CONTENT": {
@@ -740,15 +782,19 @@
                     },
                     "data": {
                         "type": "array",
                         "items": {
                             "$ref": "#/components/schemas/FELT"
                         }
                     }
-                }
+                },
+                "required": [
+                    "keys",
+                    "data"
+                ]
             },
             "EVENT_FILTER": {
                 "title": "An event filter/query",
                 "type": "object",
                 "properties": {
                     "from_block": {
                         "title": "from block",
@@ -763,40 +809,54 @@
                         "$ref": "#/components/schemas/ADDRESS"
                     },
                     "keys": {
                         "title": "filter key values",
                         "description": "The values used to filter the events",
                         "type": "array",
                         "items": {
-                            "title": "event key value",
-                            "$ref": "#/components/schemas/FELT"
+                            "title": "Possible values, per key",
+                            "description": "Per key (by position), designate the possible values to be matched for events to be returned. Empty array designates 'any' value",
+                            "type": "array",
+                            "items": {
+                                "$ref": "#/components/schemas/FELT"
+                            }
                         }
                     }
-                }
+                },
+                "required": [
+                    "from_block",
+                    "to_block",
+                    "address",
+                    "keys"
+                ]
             },
             "BLOCK_ID": {
                 "title": "Block hash, number or tag",
-                "oneOf": [
+                "anyOf": [
                     {
                         "type": "object",
                         "properties": {
                             "block_hash": {
                                 "$ref": "#/components/schemas/BLOCK_HASH"
                             }
                         },
-                        "required": ["block_hash"]
+                        "required": [
+                            "block_hash"
+                        ]
                     },
                     {
                         "type": "object",
                         "properties": {
                             "block_number": {
                                 "$ref": "#/components/schemas/BLOCK_NUMBER"
                             }
                         },
-                        "required": ["block_number"]
+                        "required": [
+                            "block_number"
+                        ]
                     },
                     {
                         "$ref": "#/components/schemas/BLOCK_TAG"
                     }
                 ]
             },
             "BLOCK_TAG": {
@@ -831,37 +891,62 @@
                         "description": "The hash of the estimated highest block to be synchronized",
                         "$ref": "#/components/schemas/BLOCK_HASH"
                     },
                     "highest_block_num": {
                         "description": "The number (height) of the estimated highest block to be synchronized",
                         "$ref": "#/components/schemas/NUM_AS_HEX"
                     }
-                }
+                },
+                "required": [
+                    "starting_block_hash",
+                    "starting_block_num",
+                    "current_block_hash",
+                    "current_block_num",
+                    "highest_block_hash",
+                    "highest_block_num"
+                ]
             },
             "NUM_AS_HEX": {
                 "title": "An integer number in hex format (0x...)",
                 "type": "string",
                 "pattern": "^0x[a-fA-F0-9]+$"
             },
             "CHAIN_ID": {
                 "title": "chainId",
-                "description": "Starknet chain id, given in hex representation.",
+                "description": "StarkNet chain id, given in hex representation.",
                 "type": "string",
                 "pattern": "^0x[a-fA-F0-9]+$"
             },
             "STATE_UPDATE": {
                 "type": "object",
-                "properties": {
-                    "block_hash": {
-                        "$ref": "#/components/schemas/BLOCK_HASH"
-                    },
-                    "new_root": {
-                        "description": "The new global state root",
-                        "$ref": "#/components/schemas/FELT"
+                "allOf": [
+                    {
+                        "type": "object",
+                        "properties": {
+                            "block_hash": {
+                                "$ref": "#/components/schemas/BLOCK_HASH"
+                            },
+                            "new_root": {
+                                "description": "The new global state root",
+                                "$ref": "#/components/schemas/FELT"
+                            }
+                        },
+                        "required": [
+                            "block_hash",
+                            "new_root"
+                        ]
                     },
+                    {
+                        "$ref": "#/components/schemas/PENDING_STATE_UPDATE"
+                    }
+                ]
+            },
+            "PENDING_STATE_UPDATE": {
+                "type": "object",
+                "properties": {
                     "old_root": {
                         "description": "The previous global state root",
                         "$ref": "#/components/schemas/FELT"
                     },
                     "state_diff": {
                         "description": "The change in state applied in this block, given as a mapping of addresses to the new values and/or new contracts",
                         "type": "object",
@@ -869,28 +954,62 @@
                             "storage_diffs": {
                                 "type": "array",
                                 "items": {
                                     "description": "The changes in the storage per contract address",
                                     "$ref": "#/components/schemas/CONTRACT_STORAGE_DIFF_ITEM"
                                 }
                             },
-                            "declared_contract_hashes": {
+                            "deprecated_declared_classes": {
                                 "type": "array",
                                 "items": {
-                                    "description": "The hash of a new contract declared as part of the new state",
+                                    "description": "The hash of the declared class",
                                     "$ref": "#/components/schemas/FELT"
                                 }
                             },
+                            "declared_classes": {
+                                "type": "array",
+                                "items": {
+                                    "description": "The declared class hash and compiled class hash",
+                                    "type": "object",
+                                    "properties": {
+                                        "class_hash": {
+                                            "description": "The hash of the declared class",
+                                            "$ref": "#/components/schemas/FELT"
+                                        },
+                                        "compiled_class_hash": {
+                                            "description": "The Cairo assembly hash corresponding to the declared class",
+                                            "$ref": "#/components/schemas/FELT"
+                                        }
+                                    }
+                                }
+                            },
                             "deployed_contracts": {
                                 "type": "array",
                                 "items": {
-                                    "description": "A new contract deployed as part of the new state",
+                                    "description": "A new contract deployed as part of the state update",
                                     "$ref": "#/components/schemas/DEPLOYED_CONTRACT_ITEM"
                                 }
                             },
+                            "replaced_classes": {
+                                "type": "array",
+                                "items": {
+                                    "description": "The list of contracts whose class was replaced",
+                                    "type": "object",
+                                    "properties": {
+                                        "contract_address": {
+                                            "description": "The address of the contract whose class was replaced",
+                                            "$ref": "#/components/schemas/ADDRESS"
+                                        },
+                                        "class_hash": {
+                                            "description": "The new class hash",
+                                            "$ref": "#/components/schemas/FELT"
+                                        }
+                                    }
+                                }
+                            },
                             "nonces": {
                                 "type": "array",
                                 "items": {
                                     "description": "The updated nonce per contract address",
                                     "type": "object",
                                     "properties": {
                                         "contract_address": {
@@ -900,17 +1019,29 @@
                                         "nonce": {
                                             "description": "The nonce for the given address at the end of the block",
                                             "$ref": "#/components/schemas/FELT"
                                         }
                                     }
                                 }
                             }
-                        }
+                        },
+                        "required": [
+                            "storage_diffs",
+                            "deprecated_declared_classes",
+                            "declared_classes",
+                            "replaced_classes",
+                            "deployed_contracts",
+                            "nonces"
+                        ]
                     }
-                }
+                },
+                "required": [
+                    "old_root",
+                    "state_diff"
+                ]
             },
             "ADDRESS": {
                 "$ref": "#/components/schemas/FELT"
             },
             "STORAGE_KEY": {
                 "type": "string",
                 "title": "A storage key",
@@ -922,23 +1053,22 @@
                 "type": "string",
                 "$comment": "An ethereum address",
                 "description": "an ethereum address represented as 40 hex digits",
                 "pattern": "^0x[a-fA-F0-9]{40}$"
             },
             "TXN_HASH": {
                 "$ref": "#/components/schemas/FELT",
-                "description": "The transaction hash, as assigned in Starknet",
+                "description": "The transaction hash, as assigned in StarkNet",
                 "title": "A transaction's hash"
             },
             "FELT": {
                 "type": "string",
                 "title": "Field element",
-                "$comment": "A field element, represented as a string of hex digits",
-                "description": "A field element. Represented as up to 63 hex digits and leading 4 bits zeroed.",
-                "pattern": "^0x0[a-fA-F0-9]{1,63}$"
+                "description": "A field element. represented by at most 63 hex digits",
+                "pattern": "^0x(0|[a-fA-F1-9]{1}[a-fA-F0-9]{0,62})$"
             },
             "BLOCK_NUMBER": {
                 "description": "The block's number (its height)",
                 "type": "integer",
                 "minimum": 0
             },
             "BLOCK_HASH": {
@@ -951,30 +1081,36 @@
                         "description": "The hashes of the transactions included in this block",
                         "type": "array",
                         "items": {
                             "description": "The hash of a single transaction",
                             "$ref": "#/components/schemas/TXN_HASH"
                         }
                     }
-                }
+                },
+                "required": [
+                    "transactions"
+                ]
             },
             "BLOCK_BODY_WITH_TXS": {
                 "type": "object",
                 "properties": {
                     "transactions": {
                         "description": "The transactions in this block",
                         "type": "array",
                         "items": {
                             "$ref": "#/components/schemas/TXN"
                         }
                     }
-                }
+                },
+                "required": [
+                    "transactions"
+                ]
             },
             "BLOCK_HEADER": {
-                "title": "Block header",
+                "type": "object",
                 "properties": {
                     "block_hash": {
                         "$ref": "#/components/schemas/BLOCK_HASH"
                     },
                     "parent_hash": {
                         "description": "The hash of this block's parent",
                         "$ref": "#/components/schemas/BLOCK_HASH"
@@ -989,29 +1125,40 @@
                     },
                     "timestamp": {
                         "description": "The time in which the block was created, encoded in Unix time",
                         "type": "integer",
                         "minimum": 0
                     },
                     "sequencer_address": {
-                        "description": "The Starknet identity of the sequencer submitting this block",
+                        "description": "The StarkNet identity of the sequencer submitting this block",
                         "$ref": "#/components/schemas/FELT"
                     }
-                }
+                },
+                "required": [
+                    "block_hash",
+                    "parent_hash",
+                    "block_number",
+                    "new_root",
+                    "timestamp",
+                    "sequencer_address"
+                ]
             },
             "BLOCK_WITH_TX_HASHES": {
                 "title": "The block object",
                 "allOf": [
                     {
                         "type": "object",
                         "properties": {
                             "status": {
                                 "$ref": "#/components/schemas/BLOCK_STATUS"
                             }
-                        }
+                        },
+                        "required": [
+                            "status"
+                        ]
                     },
                     {
                         "$ref": "#/components/schemas/BLOCK_HEADER"
                     },
                     {
                         "$ref": "#/components/schemas/BLOCK_BODY_WITH_TX_HASHES"
                     }
@@ -1050,15 +1197,15 @@
                         "properties": {
                             "timestamp": {
                                 "description": "The time in which the block was created, encoded in Unix time",
                                 "type": "integer",
                                 "minimum": 0
                             },
                             "sequencer_address": {
-                                "description": "The Starknet identity of the sequencer submitting this block",
+                                "description": "The StarkNet identity of the sequencer submitting this block",
                                 "$ref": "#/components/schemas/FELT"
                             },
                             "parent_hash": {
                                 "description": "The hash of this block's parent",
                                 "$ref": "#/components/schemas/BLOCK_HASH"
                             }
                         }
@@ -1076,15 +1223,15 @@
                         "properties": {
                             "timestamp": {
                                 "description": "The time in which the block was created, encoded in Unix time",
                                 "type": "integer",
                                 "minimum": 0
                             },
                             "sequencer_address": {
-                                "description": "The Starknet identity of the sequencer submitting this block",
+                                "description": "The StarkNet identity of the sequencer submitting this block",
                                 "$ref": "#/components/schemas/FELT"
                             },
                             "parent_hash": {
                                 "description": "The hash of this block's parent",
                                 "$ref": "#/components/schemas/BLOCK_HASH"
                             }
                         }
@@ -1098,15 +1245,19 @@
                         "description": "The address of the contract",
                         "$ref": "#/components/schemas/FELT"
                     },
                     "class_hash": {
                         "description": "The hash of the contract code",
                         "$ref": "#/components/schemas/FELT"
                     }
-                }
+                },
+                "required": [
+                    "address",
+                    "class_hash"
+                ]
             },
             "CONTRACT_STORAGE_DIFF_ITEM": {
                 "type": "object",
                 "properties": {
                     "address": {
                         "description": "The contract address for which the storage changed",
                         "$ref": "#/components/schemas/FELT"
@@ -1124,15 +1275,19 @@
                                 "value": {
                                     "description": "The new value applied to the given address",
                                     "$ref": "#/components/schemas/FELT"
                                 }
                             }
                         }
                     }
-                }
+                },
+                "required": [
+                    "address",
+                    "storage_entries"
+                ]
             },
             "TXN": {
                 "title": "Transaction",
                 "description": "The transaction schema, as it appears inside a block",
                 "anyOf": [
                     {
                         "$ref": "#/components/schemas/INVOKE_TXN"
@@ -1143,32 +1298,29 @@
                     {
                         "$ref": "#/components/schemas/DECLARE_TXN"
                     },
                     {
                         "$ref": "#/components/schemas/DEPLOY_TXN"
                     },
                     {
-                        "ref": "#/components/schemas/DEPLOY_ACCOUNT_TXN"
+                        "$ref": "#/components/schemas/DEPLOY_ACCOUNT_TXN"
                     }
                 ]
             },
             "BROADCASTED_TXN": {
                 "description": "the transaction's representation when it's sent to the sequencer (but not yet in a block)",
                 "title": "Transaction",
                 "anyOf": [
                     {
                         "$ref": "#/components/schemas/BROADCASTED_INVOKE_TXN"
                     },
                     {
                         "$ref": "#/components/schemas/BROADCASTED_DECLARE_TXN"
                     },
                     {
-                        "$ref": "#/components/schemas/BROADCASTED_DEPLOY_TXN"
-                    },
-                    {
                         "$ref": "#/components/schemas/BROADCASTED_DEPLOY_ACCOUNT_TXN"
                     }
                 ]
             },
             "SIGNATURE": {
                 "title": "A transaction signature",
                 "type": "array",
@@ -1176,93 +1328,181 @@
                     "$ref": "#/components/schemas/FELT"
                 }
             },
             "BROADCASTED_TXN_COMMON_PROPERTIES": {
                 "type": "object",
                 "description": "common properties of a transaction that is sent to the sequencer (but is not yet in a block)",
                 "properties": {
-                    "type": {
-                        "$ref": "#/components/schemas/TXN_TYPE"
-                    },
                     "max_fee": {
                         "$ref": "#/components/schemas/FELT",
                         "description": "The maximal fee that can be charged for including the transaction"
                     },
                     "version": {
                         "description": "Version of the transaction scheme",
                         "$ref": "#/components/schemas/NUM_AS_HEX"
                     },
                     "signature": {
                         "$ref": "#/components/schemas/SIGNATURE"
                     },
                     "nonce": {
                         "$ref": "#/components/schemas/FELT"
                     }
-                }
+                },
+                "required": [
+                    "max_fee",
+                    "version",
+                    "signature",
+                    "nonce"
+                ]
             },
             "COMMON_TXN_PROPERTIES": {
                 "allOf": [
                     {
                         "type": "object",
                         "properties": {
                             "transaction_hash": {
                                 "$ref": "#/components/schemas/TXN_HASH",
                                 "description": "The hash identifying the transaction"
                             }
-                        }
+                        },
+                        "required": [
+                            "transaction_hash"
+                        ]
                     },
                     {
                         "$ref": "#/components/schemas/BROADCASTED_TXN_COMMON_PROPERTIES"
                     }
                 ]
             },
             "DECLARE_TXN": {
+                "anyOf": [
+                    {
+                        "$ref": "#/components/schemas/DECLARE_TXN_V1"
+                    },
+                    {
+                        "$ref": "#/components/schemas/DECLARE_TXN_V2"
+                    }
+                ]
+            },
+            "DECLARE_TXN_V1": {
                 "title": "Declare Contract Transaction",
                 "allOf": [
                     {
                         "$ref": "#/components/schemas/COMMON_TXN_PROPERTIES"
                     },
                     {
                         "type": "object",
                         "properties": {
+                            "type": {
+                                "type": "string",
+                                "enum": [
+                                    "DECLARE"
+                                ]
+                            },
                             "class_hash": {
                                 "description": "The hash of the declared class",
                                 "$ref": "#/components/schemas/FELT"
                             },
                             "sender_address": {
                                 "description": "The address of the account contract sending the declaration transaction",
                                 "$ref": "#/components/schemas/ADDRESS"
                             }
+                        },
+                        "required": [
+                            "type",
+                            "class_hash",
+                            "sender_address"
+                        ]
+                    }
+                ]
+            },
+            "DECLARE_TXN_V2": {
+                "title": "Declare Contract Transaction",
+                "allOf": [
+                    {
+                        "$ref": "#/components/schemas/DECLARE_TXN_V1"
+                    },
+                    {
+                        "type": "object",
+                        "properties": {
+                            "compiled_class_hash": {
+                                "description": "The hash of the Cairo assembly resulting from the Sierra compilation",
+                                "$ref": "#/components/schemas/FELT"
+                            }
                         }
                     }
                 ]
             },
             "BROADCASTED_DECLARE_TXN": {
+                "anyOf": [
+                    {
+                        "$ref": "#/components/schemas/BROADCASTED_DECLARE_TXN_V1"
+                    },
+                    {
+                        "$ref": "#/components/schemas/BROADCASTED_DECLARE_TXN_V2"
+                    }
+                ]
+            },
+            "BROADCASTED_DECLARE_TXN_V1": {
                 "title": "mempool representation of a declare transaction",
                 "allOf": [
                     {
                         "$ref": "#/components/schemas/BROADCASTED_TXN_COMMON_PROPERTIES"
                     },
                     {
                         "type": "object",
                         "properties": {
                             "contract_class": {
                                 "description": "The class to be declared",
-                                "schema": {
-                                    "$ref": "#/components/schemas/CONTRACT_CLASS"
-                                }
+                                "$ref": "#/components/schemas/DEPRECATED_CONTRACT_CLASS"
                             },
                             "sender_address": {
                                 "description": "The address of the account contract sending the declaration transaction",
                                 "$ref": "#/components/schemas/ADDRESS"
                             }
                         }
                     }
                 ]
             },
+            "BROADCASTED_DECLARE_TXN_V2": {
+                "title": "mempool representation of a declare transaction",
+                "allOf": [
+                    {
+                        "$ref": "#/components/schemas/BROADCASTED_TXN_COMMON_PROPERTIES"
+                    },
+                    {
+                        "type": "object",
+                        "properties": {
+                            "type": {
+                                "type": "string",
+                                "enum": [
+                                    "DECLARE"
+                                ]
+                            },
+                            "contract_class": {
+                                "description": "The class to be declared",
+                                "$ref": "#/components/schemas/CONTRACT_CLASS"
+                            },
+                            "sender_address": {
+                                "description": "The address of the account contract sending the declaration transaction",
+                                "$ref": "#/components/schemas/ADDRESS"
+                            },
+                            "compiled_class_hash": {
+                                "description": "The hash of the Cairo assembly resulting from the Sierra compilation",
+                                "$ref": "#/components/schemas/FELT"
+                            }
+                        },
+                        "required": [
+                            "type",
+                            "contract_class",
+                            "sender_address"
+                        ]
+                    }
+                ]
+            },
             "DEPLOY_ACCOUNT_TXN": {
                 "title": "Deploy Account Transaction",
                 "description": "Deploys an account contract, charges fee from the pre-funded account addresses",
                 "allOf": [
                     {
                         "$ref": "#/components/schemas/COMMON_TXN_PROPERTIES"
                     },
@@ -1281,14 +1521,20 @@
                         "$ref": "#/components/schemas/DEPLOY_ACCOUNT_TXN_PROPERTIES"
                     }
                 ]
             },
             "DEPLOY_ACCOUNT_TXN_PROPERTIES": {
                 "type": "object",
                 "properties": {
+                    "type": {
+                        "type": "string",
+                        "enum": [
+                            "DEPLOY_ACCOUNT"
+                        ]
+                    },
                     "contract_address_salt": {
                         "description": "The salt for the address of the deployed contract",
                         "$ref": "#/components/schemas/FELT"
                     },
                     "constructor_calldata": {
                         "type": "array",
                         "description": "The parameters passed to the constructor",
@@ -1296,15 +1542,21 @@
                             "$ref": "#/components/schemas/FELT"
                         }
                     },
                     "class_hash": {
                         "description": "The hash of the deployed contract's class",
                         "$ref": "#/components/schemas/FELT"
                     }
-                }
+                },
+                "required": [
+                    "type",
+                    "contract_address_salt",
+                    "constructor_calldata",
+                    "class_hash"
+                ]
             },
             "DEPLOY_TXN": {
                 "title": "Deploy Contract Transaction",
                 "description": "The structure of a deploy transaction. Note that this transaction type is deprecated and will no longer be supported in future versions",
                 "allOf": [
                     {
                         "type": "object",
@@ -1313,63 +1565,56 @@
                                 "$ref": "#/components/schemas/TXN_HASH",
                                 "description": "The hash identifying the transaction"
                             },
                             "class_hash": {
                                 "description": "The hash of the deployed contract's class",
                                 "$ref": "#/components/schemas/FELT"
                             }
-                        }
-                    },
-                    {
-                        "$ref": "#/components/schemas/DEPLOY_TXN_PROPERTIES"
-                    }
-                ]
-            },
-            "BROADCASTED_DEPLOY_TXN": {
-                "title": "mempool representation of a deploy transaction",
-                "description": "The structure of a deploy transaction. Note that this transaction type is deprecated and will no longer be supported in future versions",
-                "allOf": [
-                    {
-                        "type": "object",
-                        "properties": {
-                            "contract_class": {
-                                "description": "The class of the contract that will be deployed",
-                                "schema": {
-                                    "$ref": "#/components/schemas/CONTRACT_CLASS"
-                                }
-                            }
-                        }
+                        },
+                        "required": [
+                            "transaction_hash",
+                            "class_hash"
+                        ]
                     },
                     {
                         "$ref": "#/components/schemas/DEPLOY_TXN_PROPERTIES"
                     }
                 ]
             },
             "DEPLOY_TXN_PROPERTIES": {
                 "type": "object",
                 "properties": {
                     "version": {
                         "description": "Version of the transaction scheme",
                         "$ref": "#/components/schemas/NUM_AS_HEX"
                     },
                     "type": {
-                        "$ref": "#/components/schemas/TXN_TYPE"
+                        "type": "string",
+                        "enum": [
+                            "DEPLOY"
+                        ]
                     },
                     "contract_address_salt": {
                         "description": "The salt for the address of the deployed contract",
                         "$ref": "#/components/schemas/FELT"
                     },
                     "constructor_calldata": {
                         "type": "array",
                         "description": "The parameters passed to the constructor",
                         "items": {
                             "$ref": "#/components/schemas/FELT"
                         }
                     }
-                }
+                },
+                "required": [
+                    "version",
+                    "type",
+                    "contract_address_salt",
+                    "constructor_calldata"
+                ]
             },
             "INVOKE_TXN_V0": {
                 "title": "version 0 invoke transaction",
                 "description": "invokes a specific function in the desired contract (not necessarily an account)",
                 "$ref": "#/components/schemas/FUNCTION_CALL"
             },
             "INVOKE_TXN_V1": {
@@ -1383,24 +1628,42 @@
                     "calldata": {
                         "type": "array",
                         "description": "The data expected by the account's `execute` function (in most usecases, this includes the called contract address and a function selector)",
                         "items": {
                             "$ref": "#/components/schemas/FELT"
                         }
                     }
-                }
+                },
+                "required": [
+                    "sender_address",
+                    "calldata"
+                ]
             },
             "INVOKE_TXN": {
                 "title": "Initiate a transaction from an account",
                 "allOf": [
                     {
                         "$ref": "#/components/schemas/COMMON_TXN_PROPERTIES"
                     },
                     {
-                        "oneOf": [
+                        "type": "object",
+                        "properties": {
+                            "type": {
+                                "type": "string",
+                                "enum": [
+                                    "INVOKE"
+                                ]
+                            }
+                        },
+                        "required": [
+                            "type"
+                        ]
+                    },
+                    {
+                        "anyOf": [
                             {
                                 "$ref": "#/components/schemas/INVOKE_TXN_V0"
                             },
                             {
                                 "$ref": "#/components/schemas/INVOKE_TXN_V1"
                             }
                         ]
@@ -1410,15 +1673,29 @@
             "BROADCASTED_INVOKE_TXN": {
                 "description": "mempool representation of an invoke transaction",
                 "allOf": [
                     {
                         "$ref": "#/components/schemas/BROADCASTED_TXN_COMMON_PROPERTIES"
                     },
                     {
-                        "oneOf": [
+                        "type": "object",
+                        "properties": {
+                            "type": {
+                                "type": "string",
+                                "enum": [
+                                    "INVOKE"
+                                ]
+                            }
+                        },
+                        "required": [
+                            "type"
+                        ]
+                    },
+                    {
+                        "anyOf": [
                             {
                                 "$ref": "#/components/schemas/INVOKE_TXN_V0"
                             },
                             {
                                 "$ref": "#/components/schemas/INVOKE_TXN_V1"
                             }
                         ]
@@ -1446,15 +1723,21 @@
                                     "L1_HANDLER"
                                 ]
                             },
                             "nonce": {
                                 "description": "The L1->L2 message nonce field of the SN Core L1 contract at the time the transaction was sent",
                                 "$ref": "#/components/schemas/NUM_AS_HEX"
                             }
-                        }
+                        },
+                        "required": [
+                            "transaction_hash",
+                            "version",
+                            "type",
+                            "nonce"
+                        ]
                     },
                     {
                         "$ref": "#/components/schemas/FUNCTION_CALL"
                     }
                 ]
             },
             "COMMON_RECEIPT_PROPERTIES": {
@@ -1474,17 +1757,14 @@
                     },
                     "block_hash": {
                         "$ref": "#/components/schemas/BLOCK_HASH"
                     },
                     "block_number": {
                         "$ref": "#/components/schemas/BLOCK_NUMBER"
                     },
-                    "type": {
-                        "$ref": "#/components/schemas/TXN_TYPE"
-                    },
                     "messages_sent": {
                         "type": "array",
                         "items": {
                             "$ref": "#/components/schemas/MSG_TO_L1"
                         }
                     },
                     "events": {
@@ -1497,51 +1777,137 @@
                 },
                 "required": [
                     "transaction_hash",
                     "actual_fee",
                     "status",
                     "block_hash",
                     "block_number",
-                    "type",
                     "messages_sent",
                     "events"
                 ]
             },
             "INVOKE_TXN_RECEIPT": {
                 "title": "Invoke Transaction Receipt",
-                "$ref": "#/components/schemas/COMMON_RECEIPT_PROPERTIES"
+                "allOf": [
+                    {
+                        "type": "object",
+                        "properties": {
+                            "type": {
+                                "type": "string",
+                                "enum": [
+                                    "INVOKE"
+                                ]
+                            }
+                        },
+                        "required": [
+                            "type"
+                        ]
+                    },
+                    {
+                        "$ref": "#/components/schemas/COMMON_RECEIPT_PROPERTIES"
+                    }
+                ]
             },
             "DECLARE_TXN_RECEIPT": {
                 "title": "Declare Transaction Receipt",
-                "$ref": "#/components/schemas/COMMON_RECEIPT_PROPERTIES"
+                "allOf": [
+                    {
+                        "type": "object",
+                        "properties": {
+                            "type": {
+                                "type": "string",
+                                "enum": [
+                                    "DECLARE"
+                                ]
+                            }
+                        },
+                        "required": [
+                            "type"
+                        ]
+                    },
+                    {
+                        "$ref": "#/components/schemas/COMMON_RECEIPT_PROPERTIES"
+                    }
+                ]
             },
             "DEPLOY_ACCOUNT_TXN_RECEIPT": {
                 "title": "Deploy Account Transaction Receipt",
-                "$ref": "#/components/schemas/DEPLOY_TXN_RECEIPT"
+                "allOf": [
+                    {
+                        "$ref": "#/components/schemas/COMMON_RECEIPT_PROPERTIES"
+                    },
+                    {
+                        "type": "object",
+                        "properties": {
+                            "type": {
+                                "type": "string",
+                                "enum": [
+                                    "DEPLOY_ACCOUNT"
+                                ]
+                            },
+                            "contract_address": {
+                                "description": "The address of the deployed contract",
+                                "$ref": "#/components/schemas/FELT"
+                            }
+                        },
+                        "required": [
+                            "type",
+                            "contract_address"
+                        ]
+                    }
+                ]
             },
             "DEPLOY_TXN_RECEIPT": {
                 "title": "Deploy Transaction Receipt",
                 "allOf": [
                     {
                         "$ref": "#/components/schemas/COMMON_RECEIPT_PROPERTIES"
                     },
                     {
                         "type": "object",
                         "properties": {
+                            "type": {
+                                "type": "string",
+                                "enum": [
+                                    "DEPLOY"
+                                ]
+                            },
                             "contract_address": {
                                 "description": "The address of the deployed contract",
                                 "$ref": "#/components/schemas/FELT"
                             }
-                        }
+                        },
+                        "required": [
+                            "type",
+                            "contract_address"
+                        ]
                     }
                 ]
             },
             "L1_HANDLER_TXN_RECEIPT": {
                 "title": "receipt for l1 handler transaction",
-                "$ref": "#/components/schemas/COMMON_RECEIPT_PROPERTIES"
+                "allOf": [
+                    {
+                        "type": "object",
+                        "properties": {
+                            "type": {
+                                "type": "string",
+                                "enum": [
+                                    "L1_HANDLER"
+                                ]
+                            }
+                        },
+                        "required": [
+                            "type"
+                        ]
+                    },
+                    {
+                        "$ref": "#/components/schemas/COMMON_RECEIPT_PROPERTIES"
+                    }
+                ]
             },
             "TXN_RECEIPT": {
                 "anyOf": [
                     {
                         "$ref": "#/components/schemas/INVOKE_TXN_RECEIPT"
                     },
                     {
@@ -1635,15 +2001,19 @@
                     "payload": {
                         "description": "The payload of the message",
                         "type": "array",
                         "items": {
                             "$ref": "#/components/schemas/FELT"
                         }
                     }
-                }
+                },
+                "required": [
+                    "to_address",
+                    "payload"
+                ]
             },
             "TXN_STATUS": {
                 "type": "string",
                 "enum": [
                     "PENDING",
                     "ACCEPTED_ON_L2",
                     "ACCEPTED_ON_L1",
@@ -1685,88 +2055,144 @@
                     "calldata": {
                         "type": "array",
                         "description": "The parameters passed to the function",
                         "items": {
                             "$ref": "#/components/schemas/FELT"
                         }
                     }
-                }
+                },
+                "required": [
+                    "contract_address",
+                    "entry_point_selector",
+                    "calldata"
+                ]
             },
             "CONTRACT_CLASS": {
-                "title": "The definition of a Starknet contract class",
+                "type": "object",
+                "properties": {
+                    "sierra_program": {
+                        "type": "array",
+                        "description": "The list of Sierra instructions of which the program consists",
+                        "items": {
+                            "$ref": "#/components/schemas/FELT"
+                        }
+                    },
+                    "contract_class_version": {
+                        "type": "string",
+                        "description": "The version of the contract class object. Currently, the Starknet OS supports version 0.1.0"
+                    },
+                    "entry_points_by_type": {
+                        "type": "object",
+                        "properties": {
+                            "CONSTRUCTOR": {
+                                "type": "array",
+                                "items": {
+                                    "$ref": "#/components/schemas/SIERRA_ENTRY_POINT"
+                                }
+                            },
+                            "EXTERNAL": {
+                                "type": "array",
+                                "items": {
+                                    "$ref": "#/components/schemas/SIERRA_ENTRY_POINT"
+                                }
+                            },
+                            "L1_HANDLER": {
+                                "type": "array",
+                                "items": {
+                                    "$ref": "#/components/schemas/SIERRA_ENTRY_POINT"
+                                }
+                            }
+                        }
+                    },
+                    "abi": {
+                        "type": "string",
+                        "descripition": "The class ABI, as supplied by the user declaring the class"
+                    }
+                },
+                "required": [
+                    "sierra_program",
+                    "contract_class_version",
+                    "entry_points_by_type"
+                ]
+            },
+            "DEPRECATED_CONTRACT_CLASS": {
+                "title": "The definition of a StarkNet contract class",
                 "type": "object",
                 "properties": {
                     "program": {
                         "type": "string",
                         "description": "A base64 representation of the compressed program code",
                         "pattern": "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$"
                     },
                     "entry_points_by_type": {
                         "type": "object",
                         "properties": {
                             "CONSTRUCTOR": {
-                                "schema": {
-                                    "$ref": "#/components/schemas/CONTRACT_ENTRY_POINT_LIST"
+                                "type": "array",
+                                "items": {
+                                    "$ref": "#/components/schemas/DEPRECATED_CAIRO_ENTRY_POINT"
                                 }
                             },
                             "EXTERNAL": {
-                                "schema": {
-                                    "$ref": "#/components/schemas/CONTRACT_ENTRY_POINT_LIST"
+                                "type": "array",
+                                "items": {
+                                    "$ref": "#/components/schemas/DEPRECATED_CAIRO_ENTRY_POINT"
                                 }
                             },
                             "L1_HANDLER": {
-                                "schema": {
-                                    "$ref": "#/components/schemas/CONTRACT_ENTRY_POINT_LIST"
+                                "type": "array",
+                                "items": {
+                                    "$ref": "#/components/schemas/DEPRECATED_CAIRO_ENTRY_POINT"
                                 }
                             }
                         }
                     },
                     "abi": {
-                        "schema": {
-                            "$ref": "#/components/schemas/CONTRACT_ABI"
-                        }
+                        "$ref": "#/components/schemas/CONTRACT_ABI"
                     }
                 },
                 "required": [
                     "program",
                     "entry_points_by_type"
                 ]
             },
-            "CONTRACT_ENTRY_POINT_LIST": {
-                "type": "array",
-                "items": {
-                    "$ref": "#/components/schemas/CONTRACT_ENTRY_POINT"
-                }
-            },
-            "CONTRACT_ENTRY_POINT": {
+            "DEPRECATED_CAIRO_ENTRY_POINT": {
                 "type": "object",
                 "properties": {
                     "offset": {
                         "description": "The offset of the entry point in the program",
-                        "schema": {
-                            "$ref": "#/components/schemas/NUM_AS_HEX"
-                        }
+                        "$ref": "#/components/schemas/NUM_AS_HEX"
                     },
                     "selector": {
                         "description": "A unique identifier of the entry point (function) in the program",
-                        "schema": {
-                            "$ref": "#/components/schemas/FELT"
-                        }
+                        "$ref": "#/components/schemas/FELT"
+                    }
+                }
+            },
+            "SIERRA_ENTRY_POINT": {
+                "type": "object",
+                "properties": {
+                    "selector": {
+                        "description": "A unique identifier of the entry point (function) in the program",
+                        "$ref": "#/components/schemas/FELT"
+                    },
+                    "function_idx": {
+                        "description": "The index of the function in the program",
+                        "type": "integer"
                     }
                 }
             },
             "CONTRACT_ABI": {
                 "type": "array",
                 "items": {
                     "$ref": "#/components/schemas/CONTRACT_ABI_ENTRY"
                 }
             },
             "CONTRACT_ABI_ENTRY": {
-                "type": "object",
-                "oneOf": [
+                "anyOf": [
                     {
                         "$ref": "#/components/schemas/FUNCTION_ABI_ENTRY"
                     },
                     {
                         "$ref": "#/components/schemas/EVENT_ABI_ENTRY"
                     },
                     {
@@ -1791,19 +2217,18 @@
                 "enum": [
                     "function",
                     "l1_handler",
                     "constructor"
                 ]
             },
             "STRUCT_ABI_ENTRY": {
+                "type": "object",
                 "properties": {
                     "type": {
-                        "schema": {
-                            "$ref": "#/components/schemas/STRUCT_ABI_TYPE"
-                        }
+                        "$ref": "#/components/schemas/STRUCT_ABI_TYPE"
                     },
                     "name": {
                         "description": "The struct name",
                         "type": "string"
                     },
                     "size": {
                         "type": "integer",
@@ -1814,15 +2239,14 @@
                         "items": {
                             "$ref": "#/components/schemas/STRUCT_MEMBER"
                         }
                     }
                 }
             },
             "STRUCT_MEMBER": {
-                "type": "object",
                 "allOf": [
                     {
                         "$ref": "#/components/schemas/TYPED_PARAMETER"
                     },
                     {
                         "type": "object",
                         "properties": {
@@ -1834,17 +2258,15 @@
                     }
                 ]
             },
             "EVENT_ABI_ENTRY": {
                 "type": "object",
                 "properties": {
                     "type": {
-                        "schema": {
-                            "$ref": "#/components/schemas/EVENT_ABI_TYPE"
-                        }
+                        "$ref": "#/components/schemas/EVENT_ABI_TYPE"
                     },
                     "name": {
                         "description": "The event name",
                         "type": "string"
                     },
                     "keys": {
                         "type": "array",
@@ -1860,17 +2282,15 @@
                     }
                 }
             },
             "FUNCTION_ABI_ENTRY": {
                 "type": "object",
                 "properties": {
                     "type": {
-                        "schema": {
-                            "$ref": "#/components/schemas/FUNCTION_ABI_TYPE"
-                        }
+                        "$ref": "#/components/schemas/FUNCTION_ABI_TYPE"
                     },
                     "name": {
                         "description": "The function name",
                         "type": "string"
                     },
                     "inputs": {
                         "type": "array",
@@ -1900,29 +2320,23 @@
                 }
             },
             "FEE_ESTIMATE": {
                 "type": "object",
                 "properties": {
                     "gas_consumed": {
                         "description": "The Ethereum gas cost of the transaction (see https://docs.starknet.io/docs/Fees/fee-mechanism for more info)",
-                        "schema": {
-                            "$ref": "#/components/schemas/NUM_AS_HEX"
-                        }
+                        "$ref": "#/components/schemas/NUM_AS_HEX"
                     },
                     "gas_price": {
                         "description": "The gas price (in gwei) that was used in the cost estimation",
-                        "schema": {
-                            "$ref": "#/components/schemas/NUM_AS_HEX"
-                        }
+                        "$ref": "#/components/schemas/NUM_AS_HEX"
                     },
                     "overall_fee": {
                         "description": "The estimated fee for the transaction (in gwei), product of gas_consumed and gas_price",
-                        "schema": {
-                            "$ref": "#/components/schemas/NUM_AS_HEX"
-                        }
+                        "$ref": "#/components/schemas/NUM_AS_HEX"
                     }
                 }
             }
         },
         "errors": {
             "FAILED_TO_RECEIVE_TXN": {
                 "code": 1,
@@ -1964,14 +2378,18 @@
                 "code": 32,
                 "message": "There are no blocks"
             },
             "INVALID_CONTINUATION_TOKEN": {
                 "code": 33,
                 "message": "The supplied continuation token is invalid or unknown"
             },
+            "TOO_MANY_KEYS_IN_FILTER": {
+                "code": 34,
+                "message": "Too many keys provided in a filter"
+            },
             "CONTRACT_ERROR": {
                 "code": 40,
                 "message": "Contract error"
             }
         }
     }
 }
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/rpc_spec_write.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/rpc_spec_write.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 # pylint: disable=too-many-lines, missing-module-docstring
 RPC_SPECIFICATION_WRITE = r"""
 {
     "openrpc": "1.0.0-rc1",
     "info": {
         "version": "0.4.0",
-        "title": "Starknet Node Write API",
+        "title": "StarkNet Node Write API",
         "license": {}
     },
     "servers": [],
     "methods": [
         {
             "name": "starknet_addInvokeTransaction",
             "summary": "Submit a new transaction to be added to the chain",
@@ -29,25 +29,25 @@
                     "type": "object",
                     "properties": {
                         "transaction_hash": {
                             "title": "The hash of the invoke transaction",
                             "$ref": "#/components/schemas/TXN_HASH"
                         }
                     }
-                },
-                "required": ["transaction_hash"]
+                }
             },
             "errors": []
         },
         {
             "name": "starknet_addDeclareTransaction",
             "summary": "Submit a new class declaration transaction",
             "params": [
                 {
                     "name": "declare_transaction",
+                    "required": true,
                     "schema": {
                         "$ref": "#/components/schemas/BROADCASTED_DECLARE_TXN"
                     }
                 }
             ],
             "result": {
                 "name": "result",
@@ -60,51 +60,14 @@
                             "$ref": "#/components/schemas/TXN_HASH"
                         },
                         "class_hash": {
                             "title": "The hash of the declared class",
                             "$ref": "#/components/schemas/FELT"
                         }
                     }
-                },
-                "required": ["transaction_hash", "class_hash"]
-            },
-            "errors": [
-                {
-                    "$ref": "#/components/errors/INVALID_CONTRACT_CLASS"
-                }
-            ]
-        },
-        {
-            "name": "starknet_addDeployTransaction",
-            "summary": "Submit a new deploy contract transaction",
-            "params": [
-                {
-                    "name": "deploy_transaction",
-                    "description": "The deploy transaction",
-                    "schema": {
-                        "$ref": "#/components/schemas/BROADCASTED_DEPLOY_TXN"
-                    }
-                }
-            ],
-            "result": {
-                "name": "result",
-                "description": "The result of the transaction submission",
-                "schema": {
-                    "type": "object",
-                    "properties": {
-                        "transaction_hash": {
-                            "title": "The hash of the deploy transaction",
-                            "$ref": "#/components/schemas/TXN_HASH"
-                        },
-                        "contract_address": {
-                            "title": "The address of the new contract",
-                            "$ref": "#/components/schemas/FELT"
-                        }
-                    },
-                    "required": ["transaction_hash", "contract_address"]
                 }
             },
             "errors": [
                 {
                     "$ref": "#/components/errors/INVALID_CONTRACT_CLASS"
                 }
             ]
@@ -112,14 +75,15 @@
         {
             "name": "starknet_addDeployAccountTransaction",
             "summary": "Submit a new deploy account transaction",
             "params": [
                 {
                     "name": "deploy_account_transaction",
                     "description": "The deploy account transaction",
+                    "required": true,
                     "schema": {
                         "$ref": "#/components/schemas/BROADCASTED_DEPLOY_ACCOUNT_TXN"
                     }
                 }
             ],
             "result": {
                 "name": "result",
@@ -131,16 +95,15 @@
                             "title": "The hash of the deploy transaction",
                             "$ref": "#/components/schemas/TXN_HASH"
                         },
                         "contract_address": {
                             "title": "The address of the new contract",
                             "$ref": "#/components/schemas/FELT"
                         }
-                    },
-                    "required": ["transaction_hash", "contract_address"]
+                    }
                 }
             },
             "errors": [
                 {
                     "$ref": "#/components/errors/CLASS_HASH_NOT_FOUND"
                 }
             ]
@@ -168,17 +131,14 @@
             },
             "BROADCASTED_INVOKE_TXN": {
                 "$ref": "./api/starknet_api_openrpc.json#/components/schemas/BROADCASTED_INVOKE_TXN"
             },
             "BROADCASTED_DECLARE_TXN": {
                 "$ref": "./api/starknet_api_openrpc.json#/components/schemas/BROADCASTED_DECLARE_TXN"
             },
-            "BROADCASTED_DEPLOY_TXN": {
-                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/BROADCASTED_DEPLOY_TXN"
-            },
             "BROADCASTED_DEPLOY_ACCOUNT_TXN": {
                 "$ref": "./api/starknet_api_openrpc.json#/components/schemas/BROADCASTED_DEPLOY_ACCOUNT_TXN"
             },
             "FUNCTION_CALL": {
                 "$ref": "./api/starknet_api_openrpc.json#/components/schemas/FUNCTION_CALL"
             }
         },
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/schema.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/schema.py`

 * *Files 12% similar despite different names*

```diff
@@ -22,23 +22,14 @@
 def _load_schemas() -> Tuple[Dict[str, Any], Dict[str, Any]]:
     specs_json = json.loads(RPC_SPECIFICATION)
     write_specs_json = json.loads(RPC_SPECIFICATION_WRITE)
     schemas = specs_json["components"]["schemas"]
 
     methods = {**_extract_methods(specs_json), **_extract_methods(write_specs_json)}
 
-    for schema in schemas.values():
-        # Newer version of the RPC (above 0.45.0) has properly defined `required` fields.
-        # Once we start targeting them, this can be removed.
-        #
-        # NOTE: This does not add `required` to all schemas that should have it, i.e. it fails to add `required`
-        # to nested objects. This causes validation to be incomplete in these cases.
-        if "required" not in schema and "properties" in schema:
-            schema["required"] = list(schema["properties"].keys())
-
     return methods, schemas
 
 
 def _extract_methods(specs_json: Dict[str, Any]) -> Dict[str, Any]:
     return {method["name"]: method for method in specs_json["methods"]}
 
 
@@ -195,14 +186,24 @@
         super().__init__("Failed to validate schema for response.")
         self.validation_error = err
 
     def __str__(self):
         return f"""Devnet tried to return invalid value: \"{self.validation_error.message}\""""
 
 
+@lru_cache
+def felt_pattern_from_schema() -> str:
+    """
+    Load regex pattern of felt from rpc schema.
+    """
+    _, schemas = _load_schemas()
+
+    return schemas["FELT"]["pattern"]
+
+
 def validate_schema(method_name: str):
     """
     Decorator ensuring that call to rpc method and its response are valid
     in respect to RPC specification schemas.
     """
 
     def decorator(func):
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/state.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/state.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/storage.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/storage.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/structures/payloads.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/structures/payloads.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,20 +1,23 @@
 """
 RPC payload structures
 """
 
 from __future__ import annotations
 
-from typing import Callable, List, Optional, Union
+from typing import Callable, Dict, List, Optional, Union
 
 from marshmallow.exceptions import MarshmallowError
 from starkware.starknet.definitions.general_config import StarknetGeneralConfig
 from starkware.starknet.public.abi import AbiEntryType
 from starkware.starknet.services.api.contract_class.contract_class import (
+    ContractClass,
+    ContractEntryPoint,
     DeprecatedCompiledClass,
+    EntryPointType,
 )
 from starkware.starknet.services.api.feeder_gateway.request_objects import CallFunction
 from starkware.starknet.services.api.feeder_gateway.response_objects import (
     BlockStateUpdate,
     DeclareSpecificInfo,
     DeployAccountSpecificInfo,
     DeploySpecificInfo,
@@ -22,14 +25,15 @@
     InvokeSpecificInfo,
     L1HandlerSpecificInfo,
     StarknetBlock,
     TransactionSpecificInfo,
     TransactionType,
 )
 from starkware.starknet.services.api.gateway.transaction import (
+    Declare,
     DeployAccount,
     DeprecatedDeclare,
     InvokeFunction,
 )
 from starkware.starknet.services.api.gateway.transaction_utils import (
     compress_program,
     decompress_program,
@@ -48,15 +52,19 @@
     RpcTxnType,
     Signature,
     TxnHash,
     rpc_block_status,
     rpc_txn_type,
 )
 from starknet_devnet.blueprints.rpc.utils import rpc_felt, rpc_root
-from starknet_devnet.constants import LEGACY_RPC_TX_VERSION
+from starknet_devnet.constants import (
+    DEPRECATED_RPC_DECLARE_TX_VERSION,
+    LEGACY_RPC_TX_VERSION,
+    SUPPORTED_RPC_DECLARE_TX_VERSION,
+)
 from starknet_devnet.state import state
 
 
 class RpcBlock(TypedDict):
     """TypedDict for rpc block"""
 
     status: RpcBlockStatus
@@ -135,42 +143,42 @@
     sender_address: Address
     calldata: List[Felt]
 
 
 RpcBroadcastedInvokeTxn = Union[RpcBroadcastedInvokeTxnV0, RpcBroadcastedInvokeTxnV1]
 
 
-class RpcBroadcastedDeclareTxn(RpcBroadcastedTxnCommon):
-    """TypedDict for RpcBroadcastedDeclareTxn"""
+class RpcBroadcastedDeclareTxnV1(RpcBroadcastedTxnCommon):
+    """TypedDict for RpcBroadcastDeclareTxnV1"""
 
-    contract_class: RpcContractClass
+    contract_class: RpcDeprecatedContractClass
     sender_address: Address
 
 
-class RpcBroadcastedDeployTxn(TypedDict):
-    """TypedDict for RpcBroadcastedDeployTxn"""
+class RpcBroadcastedDeclareTxnV2(RpcBroadcastedTxnCommon):
+    """TypedDict for RpcBroadcastedDeclareTxnV2"""
 
     contract_class: RpcContractClass
-    version: NumAsHex
-    type: RpcTxnType
-    contract_address_salt: Felt
-    constructor_calldata: List[Felt]
+    sender_address: Address
+    compiled_class_hash: Felt
+
+
+RpcBroadcastedDeclareTxn = Union[RpcBroadcastedDeclareTxnV1, RpcBroadcastedDeclareTxnV2]
 
 
 class RpcBroadcastedDeployAccountTxn(RpcBroadcastedTxnCommon):
     """TypedDict for BroadcastedDeployAccountTxn"""
 
     contract_address_salt: Felt
     constructor_calldata: List[Felt]
     class_hash: Felt
 
 
 # rpc transaction's representation when it's sent to the sequencer (but not yet in a block)
 RpcBroadcastedTxn = Union[
-    RpcBroadcastedDeployTxn,
     RpcBroadcastedDeclareTxn,
     RpcBroadcastedInvokeTxn,
     RpcBroadcastedDeployAccountTxn,
 ]
 
 
 class RpcTransactionCommon(RpcBroadcastedTxnCommon):
@@ -381,23 +389,28 @@
     """Fee estimate TypedDict for rpc"""
 
     gas_consumed: NumAsHex
     gas_price: NumAsHex
     overall_fee: NumAsHex
 
 
-def rpc_fee_estimate(fee_estimate: FeeEstimationInfo) -> dict:
+def rpc_fee_estimate(fee_estimates: List[FeeEstimationInfo]) -> list:
     """
     Convert gateway estimate_fee response to rpc_fee_estimate
     """
-    result: RpcFeeEstimate = {
-        "gas_consumed": hex(fee_estimate.gas_usage),
-        "gas_price": hex(fee_estimate.gas_price),
-        "overall_fee": hex(fee_estimate.overall_fee),
-    }
+
+    result = [
+        {
+            "gas_consumed": hex(fee_estimate.gas_usage),
+            "gas_price": hex(fee_estimate.gas_price),
+            "overall_fee": hex(fee_estimate.overall_fee),
+        }
+        for fee_estimate in fee_estimates
+    ]
+
     return result
 
 
 def make_invoke_function(invoke_transaction: RpcBroadcastedInvokeTxn) -> InvokeFunction:
     """
     Convert RpcBroadcastedInvokeTxn to InvokeFunction
     """
@@ -426,17 +439,19 @@
             calldata=[int(data, 16) for data in invoke_transaction.get("calldata", [])],
             **common_data,
         )
 
     return invoke_function
 
 
-def make_declare(declare_transaction: RpcBroadcastedDeclareTxn) -> DeprecatedDeclare:
+def make_declare_v1(
+    declare_transaction: RpcBroadcastedDeclareTxnV1,
+) -> DeprecatedDeclare:
     """
-    Convert RpcBroadcastedDeclareTxn to DeprecatedDeclare
+    Convert RpcBroadcastedDeclareTxnV1 to DeprecatedDeclare
     """
     contract_class = declare_transaction["contract_class"]
     if "abi" not in contract_class:
         contract_class["abi"] = []
 
     try:
         contract_class["program"] = decompress_program(contract_class["program"])
@@ -452,14 +467,51 @@
         version=int(declare_transaction["version"], 16),
         max_fee=int(declare_transaction["max_fee"], 16),
         signature=[int(sig, 16) for sig in declare_transaction["signature"]],
     )
     return declare_tx
 
 
+def make_declare_v2(declare_transaction: RpcBroadcastedDeclareTxnV2) -> Declare:
+    """Convert RpcBroadcastedDeclareTxnV2 to Declare"""
+    nonce = declare_transaction.get("nonce")
+
+    contract_class = declare_transaction["contract_class"]
+
+    if "abi" not in contract_class:
+        contract_class["abi"] = ""
+
+    contract_class = ContractClass.load(contract_class)
+
+    return Declare(
+        contract_class=contract_class,
+        compiled_class_hash=int(declare_transaction["compiled_class_hash"], 16),
+        sender_address=int(declare_transaction["sender_address"], 16),
+        nonce=int(nonce, 16) if nonce is not None else 0,
+        version=int(declare_transaction["version"], 16),
+        max_fee=int(declare_transaction["max_fee"], 16),
+        signature=[int(sig, 16) for sig in declare_transaction["signature"]],
+    )
+
+
+def make_declare(
+    declare_transaction: RpcBroadcastedDeclareTxn,
+) -> Union[Declare, DeprecatedDeclare]:
+    """Convert RpcBroadcastedDeclareTxn to Declare or DeprecatedDeclare"""
+    if int(declare_transaction["version"], 0) == SUPPORTED_RPC_DECLARE_TX_VERSION:
+        return make_declare_v2(declare_transaction)
+    if int(declare_transaction["version"], 0) == DEPRECATED_RPC_DECLARE_TX_VERSION:
+        return make_declare_v1(declare_transaction)
+
+    raise RpcError(
+        code=-1,
+        message=f"Declare transaction version {declare_transaction['version']} is not supported by devnet",
+    )
+
+
 def make_deploy_account(
     deploy_account_transaction: RpcBroadcastedDeployAccountTxn,
 ) -> DeployAccount:
     """
     Convert RpcBroadcastedDeployAccountTxn to DeployAccount
     """
     deploy_account_tx = DeployAccount(
@@ -474,27 +526,42 @@
         nonce=int(deploy_account_transaction["nonce"], 16),
         max_fee=int(deploy_account_transaction["max_fee"], 16),
         signature=[int(sig, 16) for sig in deploy_account_transaction["signature"]],
     )
     return deploy_account_tx
 
 
-class EntryPoint(TypedDict):
-    """TypedDict for rpc contract class entry point"""
+class DeprecatedEntryPoint(TypedDict):
+    """TypedDict for deprecated rpc contract class entry point"""
 
     offset: NumAsHex
     selector: Felt
 
 
+class DeprecatedEntryPoints(TypedDict):
+    """TypedDict for deprecated rpc contract class entry points"""
+
+    CONSTRUCTOR: List[DeprecatedEntryPoint]
+    EXTERNAL: List[DeprecatedEntryPoint]
+    L1_HANDLER: List[DeprecatedEntryPoint]
+
+
+class SierraEntryPoint(TypedDict):
+    """TypedDict for sierra entry point"""
+
+    selector: Felt
+    function_idx: int
+
+
 class EntryPoints(TypedDict):
     """TypedDict for rpc contract class entry points"""
 
-    CONSTRUCTOR: List[EntryPoint]
-    EXTERNAL: List[EntryPoint]
-    L1_HANDLER: List[EntryPoint]
+    CONSTRUCTOR: List[SierraEntryPoint]
+    EXTERNAL: List[SierraEntryPoint]
+    L1_HANDLER: List[SierraEntryPoint]
 
 
 FunctionAbiType = Literal["function", "l1_handler"]
 EventAbiType = Literal["event"]
 StructAbiType = Literal["struct"]
 
 
@@ -591,61 +658,129 @@
         "event": event_abi_entry,
         "constructor": function_abi_entry,
     }
 
     return function_map[abi_entry["type"]](abi_entry)
 
 
+class RpcDeprecatedContractClass(TypedDict):
+    """
+    TypedDict for deprecated rpc contract class
+    """
+
+    program: str
+    entry_points_by_type: DeprecatedEntryPoints
+    abi: Optional[List[AbiEntry]]
+
+
 class RpcContractClass(TypedDict):
     """
     TypedDict for rpc contract class
     """
 
-    program: str
+    sierra_program: List[Felt]
+    contract_class_version: str
     entry_points_by_type: EntryPoints
-    abi: Optional[List[AbiEntry]]
+    abi: Optional[str]
 
 
-def rpc_contract_class(contract_class: DeprecatedCompiledClass) -> RpcContractClass:
+def rpc_deprecated_contract_class(
+    contract_class: DeprecatedCompiledClass,
+) -> RpcDeprecatedContractClass:
     """
     Convert gateway contract class to rpc contract class
     """
 
     def program() -> str:
         _program = contract_class.program.Schema().dump(contract_class.program)
         return compress_program(_program)
 
-    def entry_points_by_type() -> EntryPoints:
-        _entry_points: EntryPoints = {
+    def entry_points_by_type() -> DeprecatedEntryPoints:
+        _entry_points: DeprecatedEntryPoints = {
             "CONSTRUCTOR": [],
             "EXTERNAL": [],
             "L1_HANDLER": [],
         }
         for typ, entry_points in contract_class.entry_points_by_type.items():
             for entry_point in entry_points:
-                _entry_point: EntryPoint = {
+                _entry_point: DeprecatedEntryPoint = {
                     "selector": rpc_felt(entry_point.selector),
                     "offset": hex(entry_point.offset),
                 }
                 _entry_points[typ.name].append(_entry_point)
         return _entry_points
 
     def abi() -> Optional[List[AbiEntry]]:
         if contract_class.abi is None:
             return None
         return [rpc_abi_entry(abi_entry_type) for abi_entry_type in contract_class.abi]
 
-    _contract_class: RpcContractClass = {
+    _contract_class: RpcDeprecatedContractClass = {
         "program": program(),
         "entry_points_by_type": entry_points_by_type(),
         "abi": abi(),
     }
     return _contract_class
 
 
+def rpc_contract_class(contract_class: ContractClass) -> RpcContractClass:
+    """
+    Convert gateway contract class v1 to rpc contract class v1
+    """
+
+    def program() -> List[Felt]:
+        return list(map(rpc_felt, contract_class.sierra_program))
+
+    def entry_points_by_type() -> EntryPoints:
+        def map_entry_point(entry_point: ContractEntryPoint) -> SierraEntryPoint:
+            return SierraEntryPoint(
+                selector=rpc_felt(entry_point.selector),
+                function_idx=entry_point.function_idx,
+            )
+
+        def get_entry_points_of_type(
+            entry_point_type: EntryPointType,
+        ) -> List[SierraEntryPoint]:
+            return list(
+                map(
+                    map_entry_point,
+                    contract_class.entry_points_by_type[entry_point_type],
+                )
+            )
+
+        _entry_points: EntryPoints = {
+            "CONSTRUCTOR": get_entry_points_of_type(EntryPointType.CONSTRUCTOR),
+            "EXTERNAL": get_entry_points_of_type(EntryPointType.EXTERNAL),
+            "L1_HANDLER": get_entry_points_of_type(EntryPointType.L1_HANDLER),
+        }
+
+        return _entry_points
+
+    _contract_class: RpcContractClass = {
+        "sierra_program": program(),
+        "entry_points_by_type": entry_points_by_type(),
+        "abi": contract_class.abi,
+        "contract_class_version": contract_class.contract_class_version,
+    }
+
+    return _contract_class
+
+
+def contract_class_from_dict(
+    contract_class_dict: Dict,
+) -> Union[RpcContractClass, RpcDeprecatedContractClass]:
+    """Convert contract class dict to RpcContractClass or RpcDeprecatedContractClass"""
+    if "sierra_program" in contract_class_dict.keys():
+        loaded_class = ContractClass.load(contract_class_dict)
+        return rpc_contract_class(loaded_class)
+
+    loaded_class = DeprecatedCompiledClass.load(contract_class_dict)
+    return rpc_deprecated_contract_class(loaded_class)
+
+
 class RpcStorageEntry(TypedDict):
     """TypedDict for rpc storage entry"""
 
     key: Felt
     value: Felt
 
 
@@ -666,33 +801,56 @@
 class RpcNonceDiff(TypedDict):
     """TypedDict for rpc nonce diff"""
 
     contract_address: Address
     nonce: Felt
 
 
+class RpcDeclaredClass(TypedDict):
+    """TypedDict for rpc declared class"""
+
+    class_hash: Felt
+    compiled_class_hash: Felt
+
+
+class RpcReplacedClass(TypedDict):
+    """TypedDict for contract which class was replaced"""
+
+    contract_address: Felt
+    class_hash: Felt
+
+
 class RpcStateDiff(TypedDict):
     """TypedDict for rpc state diff"""
 
     storage_diffs: List[RpcStorageDiff]
-    declared_contract_hashes: List[Felt]
+    deprecated_declared_classes: List[Felt]
+    declared_classes: List[RpcDeclaredClass]
     deployed_contracts: List[RpcDeployedContractDiff]
+    replaced_classes: List[RpcReplacedClass]
     nonces: List[RpcNonceDiff]
 
 
-class RpcStateUpdate(TypedDict):
+class RpcPendingStateUpdate(TypedDict):
+    """TypedDict for pending rpc state update"""
+
+    old_root: Felt
+    state_diff: RpcStateDiff
+
+
+class RpcStateUpdate(RpcPendingStateUpdate):
     """TypedDict for rpc state update"""
 
     block_hash: BlockHash
     new_root: Felt
-    old_root: Felt
-    state_diff: RpcStateDiff
 
 
-def rpc_state_update(state_update: BlockStateUpdate) -> RpcStateUpdate:
+def rpc_state_update(
+    state_update: BlockStateUpdate,
+) -> Union[RpcStateUpdate, RpcPendingStateUpdate]:
     """
     Convert gateway state update to rpc state update
     """
 
     def storage_diffs() -> List[RpcStorageDiff]:
         _storage_diffs = []
         for address, diffs in state_update.state_diff.storage_diffs.items():
@@ -705,44 +863,70 @@
 
             _diff = RpcStorageDiff(
                 address=rpc_felt(address), storage_entries=storage_entries
             )
             _storage_diffs.append(_diff)
         return _storage_diffs
 
-    def declared_contract_hashes() -> List[Felt]:
+    def deprecated_declared_classes() -> List[Felt]:
         return [
             rpc_felt(contract)
             for contract in state_update.state_diff.old_declared_contracts
-        ] + [
-            rpc_felt(class_hash_pair.compiled_class_hash)
+        ]
+
+    def declared_classes() -> List[RpcDeclaredClass]:
+        return [
+            RpcDeclaredClass(
+                class_hash=rpc_felt(class_hash_pair.class_hash),
+                compiled_class_hash=rpc_felt(class_hash_pair.compiled_class_hash),
+            )
             for class_hash_pair in state_update.state_diff.declared_classes
         ]
 
     def deployed_contracts() -> List[RpcDeployedContractDiff]:
         _contracts = []
         for contract in state_update.state_diff.deployed_contracts:
             diff: RpcDeployedContractDiff = {
                 "address": rpc_felt(contract.address),
                 "class_hash": rpc_felt(contract.class_hash),
             }
             _contracts.append(diff)
         return _contracts
 
+    def replaced_classes() -> List[RpcReplacedClass]:
+        return [
+            RpcReplacedClass(
+                contract_address=rpc_felt(replaced_class.address),
+                class_hash=rpc_felt(replaced_class.class_hash),
+            )
+            for replaced_class in state_update.state_diff.replaced_classes
+        ]
+
     def nonces() -> List[RpcNonceDiff]:
         return [
             RpcNonceDiff(contract_address=rpc_felt(address), nonce=rpc_felt(nonce))
             for address, nonce in state_update.state_diff.nonces.items()
         ]
 
+    state_diff: RpcStateDiff = {
+        "storage_diffs": storage_diffs(),
+        "deprecated_declared_classes": deprecated_declared_classes(),
+        "declared_classes": declared_classes(),
+        "deployed_contracts": deployed_contracts(),
+        "replaced_classes": replaced_classes(),
+        "nonces": nonces(),
+    }
+
+    if state_update.block_hash is None or state_update.block_hash == 0:
+        pending_rpc_state: RpcPendingStateUpdate = {
+            "old_root": rpc_root(state_update.old_root.hex()),
+            "state_diff": state_diff,
+        }
+        return pending_rpc_state
+
     rpc_state: RpcStateUpdate = {
         "block_hash": rpc_felt(state_update.block_hash),
         "new_root": rpc_root(state_update.new_root.hex()),
         "old_root": rpc_root(state_update.old_root.hex()),
-        "state_diff": {
-            "storage_diffs": storage_diffs(),
-            "declared_contract_hashes": declared_contract_hashes(),
-            "deployed_contracts": deployed_contracts(),
-            "nonces": nonces(),
-        },
+        "state_diff": state_diff,
     }
     return rpc_state
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/structures/responses.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/structures/responses.py`

 * *Files 2% similar despite different names*

```diff
@@ -32,21 +32,14 @@
 class RpcDeclareTransactionResult(TypedDict):
     """TypedDict for rpc declare transaction result"""
 
     transaction_hash: TxnHash
     class_hash: Felt
 
 
-class RpcDeployTransactionResult(TypedDict):
-    """TypedDict for rpc deploy transaction result"""
-
-    transaction_hash: TxnHash
-    contract_address: Felt
-
-
 class RpcDeployAccountTransactionResult(TypedDict):
     """TypedDict for rpc deploy account transaction result"""
 
     transaction_hash: TxnHash
     contract_address: Felt
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/structures/types.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/structures/types.py`

 * *Files 8% similar despite different names*

```diff
@@ -8,14 +8,15 @@
 
 from starkware.starknet.definitions.error_codes import StarknetErrorCode
 from starkware.starknet.definitions.transaction_type import TransactionType
 from starkware.starknet.services.api.feeder_gateway.response_objects import BlockStatus
 from typing_extensions import Literal, TypedDict
 
 from ..rpc_spec import RPC_SPECIFICATION
+from ..rpc_spec_write import RPC_SPECIFICATION_WRITE
 
 Felt = str
 
 BlockHash = Felt
 BlockNumber = int
 BlockTag = Literal["latest", "pending"]
 
@@ -106,12 +107,24 @@
 
     INVALID_REQUEST = -32600
     METHOD_NOT_FOUND = -32601
     INVALID_PARAMS = -32602
     INTERNAL_ERROR = -32603
 
 
-RPC_ERRORS = json.loads(RPC_SPECIFICATION)["components"]["errors"]
+def _combine_rpc_errors():
+    """
+    Merge write api errors with main api errors.
+
+    All references from write api will be shadowed by errors from main api.
+    """
+    rpc_errors = json.loads(RPC_SPECIFICATION)["components"]["errors"]
+    rpc_write_errors = json.loads(RPC_SPECIFICATION_WRITE)["components"]["errors"]
+
+    return rpc_write_errors | rpc_errors
+
+
+RPC_ERRORS = _combine_rpc_errors()
 
 GATEWAY_TO_RPC_ERROR = {
     StarknetErrorCode.BLOCK_NOT_FOUND: RPC_ERRORS["BLOCK_NOT_FOUND"],
 }
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/transactions.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/transactions.py`

 * *Files 5% similar despite different names*

```diff
@@ -28,18 +28,18 @@
     RpcDeployAccountTransactionResult,
     RpcInvokeTransactionResult,
     rpc_transaction_receipt,
 )
 from starknet_devnet.blueprints.rpc.structures.types import BlockId, RpcError, TxnHash
 from starknet_devnet.blueprints.rpc.utils import (
     assert_block_id_is_valid,
-    gateway_felt,
     get_block_by_block_id,
     rpc_felt,
 )
+from starknet_devnet.constants import LEGACY_TX_VERSION
 from starknet_devnet.state import state
 from starknet_devnet.util import StarknetDevnetException
 
 
 @validate_schema("getTransactionByHash")
 async def get_transaction_by_hash(transaction_hash: TxnHash) -> dict:
     """
@@ -117,18 +117,19 @@
 @validate_schema("addDeclareTransaction")
 async def add_declare_transaction(
     declare_transaction: RpcBroadcastedDeclareTxn,
 ) -> dict:
     """
     Submit a new class declaration transaction
     """
-    declare_transaction = make_declare(declare_transaction)
+    if int(declare_transaction["version"], 0) == LEGACY_TX_VERSION:
+        raise RpcError.from_spec_name("INVALID_CONTRACT_CLASS")
 
     class_hash, transaction_hash = await state.starknet_wrapper.declare(
-        external_tx=declare_transaction
+        external_tx=make_declare(declare_transaction)
     )
     return RpcDeclareTransactionResult(
         transaction_hash=rpc_felt(transaction_hash),
         class_hash=rpc_felt(class_hash),
     )
 
 
@@ -173,31 +174,29 @@
         raise RpcError(code=-1, message="DEPLOY transactions are deprecated")
     if txn_type == "DEPLOY_ACCOUNT":
         return make_deploy_account(txn)
     raise NotImplementedError(f"Unexpected type {txn_type}.")
 
 
 @validate_schema("estimateFee")
-async def estimate_fee(request: RpcBroadcastedTxn, block_id: BlockId) -> dict:
+async def estimate_fee(request: List[RpcBroadcastedTxn], block_id: BlockId) -> list:
     """
     Estimate the fee for a given Starknet transaction
     """
     await assert_block_id_is_valid(block_id)
-    transaction = make_transaction(request)
+    transactions = list(map(make_transaction, request))
+
     try:
-        _, fee_response = await state.starknet_wrapper.calculate_trace_and_fee(
-            transaction,
+        _, fee_response = await state.starknet_wrapper.calculate_traces_and_fees(
+            transactions,
             skip_validate=False,
             block_id=block_id,
         )
     except StarkException as ex:
-        if "entry_point_selector" in request and (
-            f"Entry point {gateway_felt(request['entry_point_selector'])} not found"
-            in ex.message
-        ):
+        if "Entry point" in ex.message and "not found" in ex.message:
             raise RpcError.from_spec_name("INVALID_MESSAGE_SELECTOR") from ex
         if "While handling calldata" in ex.message:
             raise RpcError.from_spec_name("INVALID_CALL_DATA") from ex
         if "is not deployed" in ex.message:
             raise RpcError.from_spec_name("CONTRACT_NOT_FOUND") from ex
         raise RpcError(code=-1, message=ex.message) from ex
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/rpc/utils.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/rpc/utils.py`

 * *Files 6% similar despite different names*

```diff
@@ -71,23 +71,33 @@
         code=PredefinedRpcErrorCode.INVALID_PARAMS.value,
         message="Invalid value for block id.",
     )
 
 
 def rpc_felt(value: Union[int, str]) -> Felt:
     """
-    Convert value to 0x0 prefixed felt
+    Convert value to 0x prefixed felt
     The value can be base 10 integer, base 10 string or base 16 string
     """
     if isinstance(value, str):
         value = int(value) if value.isnumeric() else int(value, 16)
 
     if value == 0:
-        return "0x00"
-    return "0x0" + hex(value).lstrip("0x")
+        return "0x0"
+    return hex(value)
+
+
+def rpc_storage_key(value: Union[int, str]) -> Felt:
+    """
+    Convert value to 0x0 prefixed storage key.
+    The value can be base 10 integer, base 10 string or base 16 string
+    """
+    value = rpc_felt(value)
+
+    return "0x0" + value.lstrip("0x")
 
 
 def gateway_felt(value: Union[int, str]) -> str:
     """
     Convert value to 0x prefixed felt
     The value can be base 10 integer, base 10 string or base 16 string
     """
@@ -97,15 +107,15 @@
     return hex(value)
 
 
 def rpc_root(root: str) -> Felt:
     """
     Convert 0 prefixed root to 0x prefixed root
     """
-    return "0x0" + (root.lstrip("0") or "0")
+    return rpc_felt(root)
 
 
 def rpc_response(message_id: int, content: dict) -> dict:
     """
     Wrap response content in rpc format
     """
     return {"jsonrpc": "2.0", "id": message_id, "result": content}
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/blueprints/shared.py` & `starknet_devnet-0.5.2/starknet_devnet/blueprints/shared.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/cairo_rs_py_patch.py` & `starknet_devnet-0.5.2/starknet_devnet/cairo_rs_py_patch.py`

 * *Files 1% similar despite different names*

```diff
@@ -51,17 +51,20 @@
     get_compiled_class_struct,
     load_compiled_class_cairo_program,
 )
 from starkware.starknet.core.os.contract_class.deprecated_class_hash import (
     get_deprecated_contract_class_struct,
     load_program,
 )
+from starkware.starknet.core.os.deprecated_syscall_handler import (
+    DeprecatedBlSyscallHandler,
+)
 from starkware.starknet.core.os.syscall_handler import (
     BusinessLogicSyscallHandler,
-    DeprecatedBlSyscallHandler,
+    SyscallHandlerBase,
 )
 from starkware.starknet.definitions.error_codes import StarknetErrorCode
 from starkware.starknet.definitions.general_config import StarknetGeneralConfig
 from starkware.starknet.public import abi as starknet_abi
 from starkware.starknet.services.api.contract_class.contract_class import (
     CompiledClass,
     ContractClass,
@@ -586,14 +589,29 @@
             used_size == segment_size,
             code=StarknetErrorCode.SECURITY_ERROR,
             message="Out of bounds write to a read-only segment.",
         )
         runner.mark_as_accessed(address=segment_ptr, size=segment_size)
 
 
+def cairo_rs_py_get_felt_range(self, start_addr: Any, end_addr: Any) -> List[int]:
+    assert isinstance(start_addr, RelocatableValue)
+    assert isinstance(end_addr, RelocatableValue)
+    assert start_addr.segment_index == end_addr.segment_index, (
+        "Inconsistent start and end segment indices "
+        f"({start_addr.segment_index} != {end_addr.segment_index})."
+    )
+    assert start_addr.offset <= end_addr.offset, (
+        "The start offset cannot be greater than the end offset"
+        f"({start_addr.offset} > {end_addr.offset})."
+    )
+    size = end_addr.offset - start_addr.offset
+    return self.segments.memory.get_range_as_ints(addr=start_addr, size=size)
+
+
 def cairo_rs_py_monkeypatch():
     setattr(ExecuteEntryPoint, "_execute", cairo_rs_py_execute)
     setattr(ExecuteEntryPoint, "_run", cairo_rs_py_run)
     setattr(
         BusinessLogicSyscallHandler,
         "_validate_read_only_segments",
         cairo_rs_py_validate_read_only_segments,
@@ -638,7 +656,8 @@
     )
     setattr(
         sys.modules["starkware.starknet.core.os.syscall_utils"],
         "get_runtime_type",
         cairo_rs_py_get_runtime_type,
     )
     setattr(syscall_utils.HandlerException, "__str__", handler_exception__str__)
+    setattr(SyscallHandlerBase, "_get_felt_range", cairo_rs_py_get_felt_range)
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/chargeable_account.py` & `starknet_devnet-0.5.2/starknet_devnet/chargeable_account.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/constants.py` & `starknet_devnet-0.5.2/starknet_devnet/constants.py`

 * *Files 14% similar despite different names*

```diff
@@ -9,30 +9,34 @@
 )
 
 DEFAULT_HOST = "127.0.0.1"
 DEFAULT_PORT = 5050
 
 DEFAULT_ACCOUNTS = 10
 DEFAULT_INITIAL_BALANCE = 10**21
-DEFAULT_GAS_PRICE = 10**11
+DEFAULT_GAS_PRICE = 10**8
 
 SUPPORTED_TX_VERSION = 1
 SUPPORTED_RPC_TX_VERSION = 1
 
+SUPPORTED_RPC_DECLARE_TX_VERSION = 2
+DEPRECATED_RPC_DECLARE_TX_VERSION = 1
+
 DUMMY_STATE_ROOT = bytes(32)
+DUMMY_PENDING_BLOCK_HASH = 0
 
 DEFAULT_TIMEOUT = 60  # seconds
 
 OLD_SUPPORTED_VERSIONS = [0]
 
 # account used by Starknet CLI; calculated using
 # poetry run python scripts/compute_compiled_class_hash.py \
 #   ~/.cache/pypoetry/virtualenvs/<YOUR_VENV>/lib/python3.9/site-packages/starkware/starknet/third_party/open_zeppelin/account.json
 STARKNET_CLI_ACCOUNT_CLASS_HASH = (
-    0x6EA5324F5D3F919A7FF007ACFAD6C421D724CF0CBCF0F6105945565518A572
+    0x1D28D8D8874CEA14193F70EDCDF501F9AE137BE2A41E258A29CBD05558D8EB6
 )
 
 # starkware.starknet.public.abi.get_selector_from_name("replace_class")
 REPLACE_CLASS_SELECTOR = (
     0x217DF192877EED2921E241046523F8D8DA7981F0A3DDAFE0E7517F6523276D2
 )
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/contract_class_wrapper.py` & `starknet_devnet-0.5.2/starknet_devnet/contract_class_wrapper.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/devnet_config.py` & `starknet_devnet-0.5.2/starknet_devnet/devnet_config.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,12 +1,11 @@
 """Module for configuration specified by user"""
 
 import argparse
 import asyncio
-import contextlib
 import json
 import os
 import subprocess
 import sys
 from enum import Enum, auto
 from typing import List
 
@@ -20,14 +19,16 @@
 from starkware.starknet.services.api.contract_class.contract_class import (
     DeprecatedCompiledClass,
 )
 from starkware.starknet.services.api.feeder_gateway.feeder_gateway_client import (
     FeederGatewayClient,
 )
 
+from starknet_devnet.util import suppress_feeder_gateway_client_logger
+
 from . import __version__
 from .constants import (
     DEFAULT_ACCOUNTS,
     DEFAULT_GAS_PRICE,
     DEFAULT_HOST,
     DEFAULT_INITIAL_BALANCE,
     DEFAULT_PORT,
@@ -147,17 +148,15 @@
 
     feeder_gateway_client = FeederGatewayClient(
         url=url,
         retry_config=RetryConfig(n_retries=n_retries),
     )
 
     try:
-        # FeederGatewayClient is implemented in such a way that it logs and raises;
-        # this suppreses the logging
-        with contextlib.redirect_stderr(None):
+        with suppress_feeder_gateway_client_logger:
             block = asyncio.run(feeder_gateway_client.get_block(block_number=block_id))
             block_number = block.block_number
     except InvalidURL:
         sys.exit(
             f"Error: Invalid fork-network (must be a URL or one of {{{NETWORK_NAMES}}}). Received: {url}"
         )
     except BadRequest as bad_request:
@@ -207,41 +206,54 @@
 
         if value <= 0:
             parser.error(error_msg)
 
         setattr(namespace, self.dest, value)
 
 
-def _parse_cairo_compiler_manifest(manifest_path: str):
+def _assert_valid_compiler(command: List[str]):
     """Assert user machine can compile with cairo 1"""
     check = subprocess.run(
-        [
-            "cargo",
-            "run",
-            "--bin",
-            "starknet-compile",
-            "--manifest-path",
-            manifest_path,
-            "--",
-            "--version",
-        ],
+        command,
         check=False,
         capture_output=True,
     )
 
     if check.returncode:
         stderr_content = check.stderr.decode("utf-8")
         sys.exit(f"Cairo compiler error: {stderr_content}")
 
     version_used = check.stdout.decode("utf-8")
     print(f"Using cairo compiler: {version_used}")
 
+
+def _parse_cairo_compiler_manifest(manifest_path: str):
+    command = [
+        "cargo",
+        "run",
+        "--bin",
+        "starknet-sierra-compile",
+        "--manifest-path",
+        manifest_path,
+        "--",
+        "--version",
+    ]
+    _assert_valid_compiler(command)
+
     return manifest_path
 
 
+def _parse_sierra_compiler_path(compiler_path: str):
+    if not (os.path.isfile(compiler_path) and os.access(compiler_path, os.X_OK)):
+        sys.exit("Error: The argument of --sierra-compiler-path must be an executable")
+
+    _assert_valid_compiler([compiler_path, "--version"])
+    return compiler_path
+
+
 def parse_args(raw_args: List[str]):
     """
     Parses CLI arguments.
     """
     parser = argparse.ArgumentParser(
         description="Run a local instance of Starknet Devnet"
     )
@@ -377,28 +389,38 @@
     )
     parser.add_argument(
         "--cairo-compiler-manifest",
         type=_parse_cairo_compiler_manifest,
         help="Specify the path to the manifest (Cargo.toml) of the Cairo 1.0 compiler to be used for contract recompilation; "
         "if omitted, the default x86-compatible compiler (from cairo-lang package) is used",
     )
+    parser.add_argument(
+        "--sierra-compiler-path",
+        type=_parse_sierra_compiler_path,
+        help="Specify the path to the binary executable of starknet-sierra-compile",
+    )
 
     parsed_args = parser.parse_args(raw_args)
     if parsed_args.dump_on and not parsed_args.dump_path:
         sys.exit("Error: --dump-path required if --dump-on present")
 
     if parsed_args.fork_block and not parsed_args.fork_network:
         sys.exit("Error: --fork-network required if --fork-block present")
 
     if parsed_args.fork_network:
         parsed_args.fork_block = parsed_args.fork_block or "latest"
         parsed_args.fork_network, parsed_args.fork_block = _get_feeder_gateway_client(
             parsed_args.fork_network, parsed_args.fork_block, parsed_args.fork_retries
         )
 
+    if parsed_args.cairo_compiler_manifest and parsed_args.sierra_compiler_path:
+        sys.exit(
+            "Error: Only one of {--cairo-compiler-manifest,--sierra-compiler-path} can be provided"
+        )
+
     return parsed_args
 
 
 # pylint: disable=too-few-public-methods
 # pylint: disable=too-many-instance-attributes
 class DevnetConfig:
     """Class holding configuration specified by user"""
@@ -418,7 +440,8 @@
         self.hide_predeployed_accounts = self.args.hide_predeployed_accounts
         self.fork_network = self.args.fork_network
         self.fork_block = self.args.fork_block
         self.chain_id = self.args.chain_id
         self.validate_rpc_requests = not self.args.disable_rpc_request_validation
         self.validate_rpc_responses = not self.args.disable_rpc_response_validation
         self.cairo_compiler_manifest = self.args.cairo_compiler_manifest
+        self.sierra_compiler_path = self.args.sierra_compiler_path
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/dump.py` & `starknet_devnet-0.5.2/starknet_devnet/dump.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/fee_token.py` & `starknet_devnet-0.5.2/starknet_devnet/fee_token.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/forked_state.py` & `starknet_devnet-0.5.2/starknet_devnet/forked_state.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,9 @@
 """Forked state"""
 
-import contextlib
 import json
 
 from services.external_api.client import BadRequest
 from starkware.starknet.business_logic.state.state import BlockInfo, CachedState
 from starkware.starknet.business_logic.state.state_api import StateReader
 from starkware.starknet.core.os.contract_class.compiled_class_hash import (
     compute_compiled_class_hash,
@@ -22,15 +21,15 @@
 )
 from starkware.starknet.testing.starknet import Starknet
 from starkware.starknet.testing.state import StarknetState
 from starkware.starkware_utils.error_handling import StarkException
 
 from .block_info_generator import now
 from .general_config import build_devnet_general_config
-from .util import StarknetDevnetException
+from .util import StarknetDevnetException, suppress_feeder_gateway_client_logger
 
 
 def is_originally_starknet_exception(exc: BadRequest):
     """
     Return `True` if `exc` matches scheme of a Starknet exception.
     Oterhwise return `False`.
     """
@@ -64,28 +63,28 @@
         block_number: int,
     ):
         self.__feeder_gateway_client = feeder_gateway_client
         self.__block_number = block_number
 
     async def _get_class_by_hash(self, class_hash: int) -> CompiledClassBase:
         try:
-            with contextlib.redirect_stderr(None):
+            with suppress_feeder_gateway_client_logger:
                 class_dict = await self.__feeder_gateway_client.get_class_by_hash(
                     class_hash=hex(class_hash), block_number=self.__block_number
                 )
             return _load_compiled_class(class_dict)
         except BadRequest as bad_request:
             if is_originally_starknet_exception(bad_request):
                 original_error = _extract_original_stark_exception(bad_request)
                 raise original_error from bad_request
             raise
 
     async def get_compiled_class(self, compiled_class_hash: int) -> CompiledClassBase:
         try:
-            with contextlib.redirect_stderr(None):
+            with suppress_feeder_gateway_client_logger:
                 compiled_class_dict = (
                     await self.__feeder_gateway_client.get_compiled_class_by_class_hash(
                         hex(compiled_class_hash),
                         block_number=self.__block_number,
                     )
                 )
             return CompiledClass.load(compiled_class_dict)
@@ -95,22 +94,22 @@
                 if original_error.code == str(StarknetErrorCode.UNDECLARED_CLASS):
                     return await self._get_class_by_hash(compiled_class_hash)
                 raise original_error from bad_request
             raise
 
     async def get_compiled_class_hash(self, class_hash: int) -> int:
         try:
-            with contextlib.redirect_stderr(None):
+            with suppress_feeder_gateway_client_logger:
                 compiled_class_dict = (
                     await self.__feeder_gateway_client.get_compiled_class_by_class_hash(
                         hex(class_hash),
                         block_number=self.__block_number,
                     )
                 )
-            compiled_class = CompiledClassBase.load(compiled_class_dict)
+            compiled_class = _load_compiled_class(compiled_class_dict)
         except BadRequest as bad_request:
             if is_originally_starknet_exception(bad_request):
                 original_error = _extract_original_stark_exception(bad_request)
                 if original_error.code == str(StarknetErrorCode.UNDECLARED_CLASS):
                     return 0
                 raise original_error from bad_request
             raise
@@ -121,15 +120,15 @@
         raise StarknetDevnetException(
             code=StarknetErrorCode.INVALID_CONTRACT_CLASS,
             message=f"Cannot get compiled class hash for class of type {type(compiled_class)}",
         )
 
     async def get_class_hash_at(self, contract_address: int) -> int:
         try:
-            with contextlib.redirect_stderr(None):
+            with suppress_feeder_gateway_client_logger:
                 class_hash_hex = await self.__feeder_gateway_client.get_class_hash_at(
                     contract_address=contract_address,
                     block_number=self.__block_number,
                 )
             return int(class_hash_hex, 16)
         except BadRequest as bad_request:
             if is_originally_starknet_exception(bad_request):
@@ -167,12 +166,12 @@
             state=CachedState(
                 block_info=BlockInfo.create_for_testing(
                     block_number=block_number,
                     block_timestamp=now(),
                     gas_price=gas_price,
                 ),
                 state_reader=state_reader,
-                contract_class_cache={},
+                compiled_class_cache={},
             ),
             general_config=build_devnet_general_config(chain_id),
         )
     )
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/general_config.py` & `starknet_devnet-0.5.2/starknet_devnet/general_config.py`

 * *Files 7% similar despite different names*

```diff
@@ -7,15 +7,14 @@
     DEFAULT_MAX_STEPS,
     DEFAULT_SEQUENCER_ADDRESS,
     DEFAULT_VALIDATE_MAX_STEPS,
     StarknetChainId,
     build_general_config,
 )
 
-from .constants import SUPPORTED_TX_VERSION
 from .fee_token import FeeToken
 
 
 def build_devnet_general_config(chain_id: StarknetChainId):
     """General config build with chain id argument."""
     return build_general_config(
         {
@@ -30,15 +29,14 @@
             "invoke_tx_max_n_steps": DEFAULT_MAX_STEPS,
             "min_gas_price": DEFAULT_GAS_PRICE,
             "sequencer_address": hex(DEFAULT_SEQUENCER_ADDRESS),
             "starknet_os_config": {
                 "chain_id": chain_id.value,
                 "fee_token_address": hex(FeeToken.ADDRESS),
             },
-            "tx_version": SUPPORTED_TX_VERSION,
             "tx_commitment_tree_height": constants.TRANSACTION_COMMITMENT_TREE_HEIGHT,
             "validate_max_n_steps": DEFAULT_VALIDATE_MAX_STEPS,
         }
     )
 
 
 DEFAULT_GENERAL_CONFIG = build_devnet_general_config(StarknetChainId.TESTNET)
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/origin.py` & `starknet_devnet-0.5.2/starknet_devnet/origin.py`

 * *Files 8% similar despite different names*

```diff
@@ -12,15 +12,19 @@
     TransactionInfo,
     TransactionReceipt,
     TransactionStatus,
     TransactionTrace,
 )
 
 from starknet_devnet.forked_state import is_originally_starknet_exception
-from starknet_devnet.util import StarknetDevnetException, UndeclaredClassDevnetException
+from starknet_devnet.util import (
+    StarknetDevnetException,
+    UndeclaredClassDevnetException,
+    suppress_feeder_gateway_client_logger,
+)
 
 
 class Origin:
     """
     Abstraction of an L2 blockchain.
     """
 
@@ -171,32 +175,36 @@
     ) -> TransactionReceipt:
         return await self.__feeder_gateway_client.get_transaction_receipt(
             transaction_hash
         )
 
     async def get_transaction_trace(self, transaction_hash: str):
         try:
-            return await self.__feeder_gateway_client.get_transaction_trace(
-                transaction_hash
-            )
+            with suppress_feeder_gateway_client_logger:
+                return await self.__feeder_gateway_client.get_transaction_trace(
+                    transaction_hash
+                )
         except BadRequest as bad_request:
             if is_originally_starknet_exception(bad_request):
                 raise StarknetDevnetException(
                     code=StarknetErrorCode.INVALID_TRANSACTION_HASH,
                     message=f"Transaction corresponding to hash {transaction_hash} is not found.",
                 ) from bad_request
             raise
 
     async def get_block_by_hash(self, block_hash: str) -> StarknetBlock:
         custom_exception = StarknetDevnetException(
             code=StarknetErrorCode.BLOCK_NOT_FOUND,
             message=f"Block hash {block_hash} does not exist.",
         )
         try:
-            block = await self.__feeder_gateway_client.get_block(block_hash=block_hash)
+            with suppress_feeder_gateway_client_logger:
+                block = await self.__feeder_gateway_client.get_block(
+                    block_hash=block_hash
+                )
             if block.block_number > self.get_number_of_blocks():
                 raise custom_exception
             return block
         except BadRequest as bad_request:
             if is_originally_starknet_exception(bad_request):
                 raise custom_exception from bad_request
             raise
@@ -207,30 +215,32 @@
     def get_number_of_blocks(self):
         return self.__number_of_blocks
 
     async def get_state_update(
         self, block_hash: str = None, block_number: int = None
     ) -> dict:
         try:
-            return await self.__feeder_gateway_client.get_state_update(
-                block_hash=block_hash,
-                block_number=block_number,
-            )
+            with suppress_feeder_gateway_client_logger:
+                return await self.__feeder_gateway_client.get_state_update(
+                    block_hash=block_hash,
+                    block_number=block_number,
+                )
         except BadRequest as bad_request:
             if is_originally_starknet_exception(bad_request):
                 raise StarknetDevnetException(
                     code=StarknetErrorCode.BLOCK_NOT_FOUND,
                     message=f"Block hash {block_hash} does not exist.",
                 ) from bad_request
             raise
 
     async def get_class_by_hash(
         self, class_hash: int, block_number: int = None
     ) -> dict:
         try:
-            return await self.__feeder_gateway_client.get_class_by_hash(
-                hex(class_hash), block_number=block_number
-            )
+            with suppress_feeder_gateway_client_logger:
+                return await self.__feeder_gateway_client.get_class_by_hash(
+                    hex(class_hash), block_number=block_number
+                )
         except BadRequest as bad_request:
             if is_originally_starknet_exception(bad_request):
                 raise UndeclaredClassDevnetException(class_hash) from bad_request
             raise
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/postman_wrapper.py` & `starknet_devnet-0.5.2/starknet_devnet/postman_wrapper.py`

 * *Files 2% similar despite different names*

```diff
@@ -2,15 +2,14 @@
 This module wraps the usage of Postman for L1 <> L2 interaction.
 """
 import json
 from abc import ABC, abstractmethod
 from typing import Tuple
 
 from starkware.eth.eth_test_utils import EthAccount, EthContract
-from starkware.eth.web3_wrapper import web3_contract_create_filter_fix
 from starkware.solidity.utils import load_nearby_contract
 from starkware.starknet.business_logic.transaction.objects import InternalL1Handler
 from starkware.starknet.definitions.error_codes import StarknetErrorCode
 from starkware.starknet.services.api.feeder_gateway.response_objects import (
     LATEST_BLOCK_ID,
 )
 from starkware.starknet.testing.starknet import Starknet
@@ -155,23 +154,22 @@
         super().__init__()
         request_kwargs = {"timeout": TIMEOUT_FOR_WEB3_REQUESTS}
         self.web3 = Web3(HTTPProvider(network_url, request_kwargs=request_kwargs))
         self.web3.middleware_onion.inject(geth_poa_middleware, layer=0)
         self.eth_account = EthAccount(self.web3, self.web3.eth.accounts[0])
 
     def load_mock_messaging_contract_in_l1(self, starknet, contract_address):
+        messaging_contract = load_nearby_contract("MockStarknetMessaging")
         if contract_address is None:
             self.mock_starknet_messaging_contract = self.eth_account.deploy(
-                load_nearby_contract("MockStarknetMessaging"),
-                L1_MESSAGE_CANCELLATION_DELAY,
+                messaging_contract, L1_MESSAGE_CANCELLATION_DELAY
             )
         else:
             address = Web3.to_checksum_address(contract_address)
-            contract_json = load_nearby_contract("MockStarknetMessaging")
-            abi = contract_json["abi"]
+            abi = messaging_contract["abi"]
             w3_contract = self.web3.eth.contract(abi=abi, address=address)
             self.mock_starknet_messaging_contract = EthContract(
                 self.web3, address, w3_contract, abi, self.eth_account
             )
 
         self.postman = Postman(self.mock_starknet_messaging_contract, starknet)
         events = self.mock_starknet_messaging_contract.w3_contract.events
@@ -195,15 +193,14 @@
     ):
         self.mock_starknet_messaging_contract = mock_starknet_messaging_contract
         self.starknet = starknet
         self.n_consumed_l2_to_l1_messages = 0
 
         # Create a filter to collect LogMessageToL2 events.
         w3_contract = self.mock_starknet_messaging_contract.w3_contract
-        web3_contract_create_filter_fix(w3_contract.events.LogMessageToL2)
         self.message_to_l2_filter = w3_contract.events.LogMessageToL2.create_filter(
             fromBlock=LATEST_BLOCK_ID
         )
 
     async def _handle_l1_to_l2_messages(self):
         transactions_to_execute = []
         for event in self.message_to_l2_filter.get_new_entries():
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/predeployed_contract_wrapper.py` & `starknet_devnet-0.5.2/starknet_devnet/predeployed_contract_wrapper.py`

 * *Files 2% similar despite different names*

```diff
@@ -26,15 +26,15 @@
         raise NotImplementedError()
 
     async def deploy(self):
         """Deploy the contract wrapper to devnet"""
         starknet: Starknet = self.starknet_wrapper.starknet
 
         # declare
-        starknet.state.state.contract_classes[self.class_hash] = self.contract_class
+        starknet.state.state.compiled_classes[self.class_hash] = self.contract_class
 
         # pylint: disable=protected-access
         self.starknet_wrapper._contract_classes[self.class_hash] = self.contract_class
 
         starknet.state.state.cache._class_hash_writes[self.address] = self.class_hash
         # replace with await starknet.state.state.deploy_contract
         # await starknet.state.state.deploy_contract(self.address, self.class_hash)
@@ -47,9 +47,8 @@
 
         await self._mimic_constructor()
 
         self.contract = StarknetContract(
             state=starknet.state,
             abi=self.contract_class.abi,
             contract_address=self.address,
-            deploy_call_info=None,
         )
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/server.py` & `starknet_devnet-0.5.2/starknet_devnet/server.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/starknet_wrapper.py` & `starknet_devnet-0.5.2/starknet_devnet/starknet_wrapper.py`

 * *Files 0% similar despite different names*

```diff
@@ -68,16 +68,17 @@
 from starkware.starkware_utils.error_handling import StarkErrorCode, StarkException
 
 from .accounts import Accounts
 from .block_info_generator import BlockInfoGenerator
 from .blocks import DevnetBlocks
 from .blueprints.rpc.structures.types import BlockId, Felt
 from .chargeable_account import ChargeableAccount
-from .compiler import CustomContractClassCompiler, DefaultContractClassCompiler
+from .compiler import select_compiler
 from .constants import (
+    DUMMY_PENDING_BLOCK_HASH,
     DUMMY_STATE_ROOT,
     LEGACY_TX_VERSION,
     STARKNET_CLI_ACCOUNT_CLASS_HASH,
 )
 from .devnet_config import DevnetConfig
 from .fee_token import FeeToken
 from .forked_state import get_forked_starknet
@@ -141,19 +142,15 @@
         self.accounts = Accounts(self)
         self.__udc = UDC(self)
         self.pending_txs: List[DevnetTransaction] = []
         self.__latest_state = None
         self._contract_classes: Dict[int, Union[DeprecatedCompiledClass, ContractClass]]
         """If v2 - store sierra, otherwise store old class; needed for get_class_by_hash"""
         self.genesis_block_number = None
-        self._compiler = (
-            CustomContractClassCompiler(config.cairo_compiler_manifest)
-            if config.cairo_compiler_manifest
-            else DefaultContractClassCompiler()
-        )
+        self._compiler = select_compiler(config)
 
         if config.start_time is not None:
             self.set_block_time(config.start_time)
 
         self.__set_gas_price(config.gas_price)
 
     @staticmethod
@@ -325,15 +322,15 @@
             declared_classes=declared_classes,
             replaced_classes=replaced,
             storage_diffs=storage_diffs,
             nonces=nonces or {},
         )
 
         return BlockStateUpdate(
-            block_hash=None,
+            block_hash=DUMMY_PENDING_BLOCK_HASH,
             new_root=DUMMY_STATE_ROOT,
             old_root=DUMMY_STATE_ROOT,
             state_diff=state_diff,
         )
 
     def _store_transaction(
         self,
@@ -359,18 +356,18 @@
         async with self.__get_transaction_handler(external_tx) as tx_handler:
             tx_handler.internal_tx = InternalDeclare.from_external(
                 external_tx, state.general_config
             )
             # extract class hash here if execution later fails
             class_hash = tx_handler.internal_tx.class_hash
 
-            # this is done now (before excute_tx) so that later we can assert it hasn't been deployed
+            # this is done now (before execute_tx) so that later we can assert it hasn't been deployed
             compiled_class_hash = await state.state.get_compiled_class_hash(class_hash)
 
-            # check if Declare v2
+            # check if Cairo 1 / Declare v2
             if isinstance(external_tx, Declare):
                 await assert_not_declared(class_hash, compiled_class_hash)
                 compiled_class_hash = tx_handler.internal_tx.compiled_class_hash
                 compiled_class = self._compiler.compile_contract_class(
                     external_tx.contract_class
                 )
                 compiled_class_hash_computed = compute_compiled_class_hash(
@@ -388,23 +385,23 @@
                 await state.state.set_compiled_class_hash(
                     class_hash=class_hash, compiled_class_hash=compiled_class_hash
                 )
                 tx_handler.explicitly_declared.append(
                     ClassHashPair(class_hash, compiled_class_hash)
                 )
 
-            else:  # Cairo 0.x class
+            else:  # Cairo 0.x / Declare v1
                 tx_handler.execution_info = await state.execute_tx(
                     tx_handler.internal_tx
                 )
                 compiled_class_hash = class_hash
                 compiled_class = external_tx.contract_class
                 tx_handler.explicitly_declared_old.append(class_hash)
 
-            state.state.contract_classes[compiled_class_hash] = compiled_class
+            state.state.compiled_classes[compiled_class_hash] = compiled_class
             self._contract_classes[class_hash] = external_tx.contract_class
 
         return class_hash, tx_handler.internal_tx.hash_value
 
     def _update_block_number(self):
         """Updates just the block number. Returns the old block info to allow reverting"""
         current_cached_state = self.get_state().state
@@ -648,15 +645,14 @@
         return await self.origin.get_class_by_hash(class_hash)
 
     async def get_compiled_class_by_class_hash(self, class_hash: int) -> CompiledClass:
         """
         Return compiled class given the class hash (sierra hash).
         Should report an undeclared class if given the hash of a deprecated class
         """
-
         state = self.get_state().state
 
         try:
             compiled_class = await state.get_compiled_class_by_class_hash(class_hash)
             if isinstance(compiled_class, CompiledClass):
                 return compiled_class
         except AssertionError:
@@ -689,17 +685,22 @@
 
     async def get_code(
         self, contract_address: int, block_id: BlockId = DEFAULT_BLOCK_ID
     ) -> dict:
         """Return code dict given the contract address"""
         try:
             contract_class = await self.get_class_by_address(contract_address, block_id)
+            bytecode = (
+                contract_class["program"]["data"]  # cairo 0
+                if "program" in contract_class
+                else contract_class["sierra_program"]  # cairo 1
+            )
             result_dict = {
                 "abi": contract_class["abi"],
-                "bytecode": contract_class["program"]["data"],
+                "bytecode": bytecode,
             }
         except StarkException as err:
             if err.code != StarknetErrorCode.UNINITIALIZED_CONTRACT:
                 raise
             result_dict = {"abi": {}, "bytecode": []}
 
         return result_dict
@@ -924,15 +925,15 @@
         """Returns nonce of contract with `contract_address`"""
         state = await self.__get_query_state(block_id)
         return await state.state.get_nonce_at(contract_address)
 
     async def __predeclare_starknet_cli_account(self):
         """Predeclares the account class used by Starknet CLI"""
         state = self.get_state().state
-        state.contract_classes[STARKNET_CLI_ACCOUNT_CLASS_HASH] = oz_account_class
+        state.compiled_classes[STARKNET_CLI_ACCOUNT_CLASS_HASH] = oz_account_class
 
     async def __deploy_chargeable_account(self):
         if await self.is_deployed(ChargeableAccount.ADDRESS):
             warn("Chargeable account already deployed")
         else:
             await ChargeableAccount(self).deploy()
```

### Comparing `starknet_devnet-0.5.1/starknet_devnet/state.py` & `starknet_devnet-0.5.2/starknet_devnet/state.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/state_archive.py` & `starknet_devnet-0.5.2/starknet_devnet/state_archive.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/transactions.py` & `starknet_devnet-0.5.2/starknet_devnet/transactions.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/udc.py` & `starknet_devnet-0.5.2/starknet_devnet/udc.py`

 * *Files identical despite different names*

### Comparing `starknet_devnet-0.5.1/starknet_devnet/util.py` & `starknet_devnet-0.5.2/starknet_devnet/util.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 """
 Utility functions used across the project.
 """
-
+import logging
 import os
 import sys
 from dataclasses import dataclass
 from typing import Dict, List, Set, Tuple
 
 from starkware.starknet.business_logic.state.state import CachedState
 from starkware.starknet.definitions.error_codes import StarknetErrorCode
@@ -239,7 +239,27 @@
         }
     )
 
 
 def warn(msg: str, file=sys.stderr):
     """Log a warning"""
     print(f"\033[93m{msg}\033[0m", file=file)
+
+
+class LogSuppressor:
+    """Context manager to suppress logger"""
+
+    def __init__(self, logger_name):
+        # check logger exists
+        assert logger_name in logging.Logger.manager.loggerDict
+        self.logger = logging.getLogger(logger_name)
+
+    def __enter__(self):
+        self.logger.disabled = True
+
+    def __exit__(self, exc_type, exc_val, exc_tb):
+        self.logger.disabled = False
+
+
+# FeederGatewayClient is implemented in such a way that it logs and raises;
+# this suppresses the logging
+suppress_feeder_gateway_client_logger = LogSuppressor("services.external_api.client")
```

### Comparing `starknet_devnet-0.5.1/setup.py` & `starknet_devnet-0.5.2/setup.py`

 * *Files 2% similar despite different names*

```diff
@@ -10,32 +10,32 @@
 package_data = \
 {'': ['*'],
  'starknet_devnet': ['accounts_artifacts/OpenZeppelin/0.5.1/Account.cairo/*']}
 
 install_requires = \
 ['Flask[async]>=2.0.3,<2.1.0',
  'Werkzeug>=2.0.3,<2.1.0',
- 'cairo-lang==0.11.0.2',
+ 'cairo-lang==0.11.1.1',
  'cloudpickle>=2.1.0,<2.2.0',
- 'crypto-cpp-py>=1.3.0,<1.4.0',
+ 'crypto-cpp-py>=1.4.0,<1.5.0',
  'flask-cors>=3.0.10,<3.1.0',
  'gunicorn>=20.1.0,<20.2.0',
  'jsonschema>=4.17.0,<4.18.0',
  'marshmallow-dataclass>=8.4,<8.5',
  'marshmallow>=3.17.0,<3.18.0',
- 'poseidon-py>=0.1.2,<0.2.0',
+ 'poseidon-py>=0.1.3,<0.2.0',
  'typing-extensions>=4.3.0,<4.4.0',
  'web3>=6.0.0,<6.1.0']
 
 entry_points = \
 {'console_scripts': ['starknet-devnet = starknet_devnet.server:main']}
 
 setup_kwargs = {
     'name': 'starknet-devnet',
-    'version': '0.5.1',
+    'version': '0.5.2',
     'description': 'A local testnet for Starknet',
     'long_description': '<!-- logo / title -->\n<p align="center" style="margin-bottom: 0px !important">\n  <img width="200" src="https://user-images.githubusercontent.com/2848732/193076972-da6fa36e-11f7-4cb3-aa29-673224f8576d.png" alt="Devnet" align="center">\n</p>\n<h1 align="center" style="margin-top: 0px !important">Starknet Devnet</h1>\n\nA Flask wrapper of Starknet state. Similar in purpose to Ganache.\n\nAims to mimic Starknet\'s Alpha testnet, but with simplified functionality.\n\n## ğŸŒ Docs\n\nOn the following links you can find the documentation of:\n\n- [the latest official release](https://0xspaceshard.github.io/starknet-devnet/)\n- [the latest master commit (not officially released)](https://github.com/0xSpaceShard/starknet-devnet/tree/master/page/docs)\n\n## âœï¸ Contributing\n\nWe â¤ï¸ and encourage all contributions!\n\n[Click here](https://0xspaceshard.github.io/starknet-devnet/docs/guide/development) for the development guide.\n\n## ğŸ™Œ Special Thanks\n\nSpecial thanks to all the [contributors](https://github.com/0xSpaceShard/starknet-devnet/graphs/contributors)!\n',
     'author': 'FabijanC',
     'author_email': 'fabijan.corak@gmail.com',
     'maintainer': 'None',
     'maintainer_email': 'None',
     'url': 'https://github.com/0xSpaceShard/starknet-devnet',
```

### Comparing `starknet_devnet-0.5.1/PKG-INFO` & `starknet_devnet-0.5.2/PKG-INFO`

 * *Files 3% similar despite different names*

```diff
@@ -1,31 +1,31 @@
 Metadata-Version: 2.1
 Name: starknet-devnet
-Version: 0.5.1
+Version: 0.5.2
 Summary: A local testnet for Starknet
 Home-page: https://github.com/0xSpaceShard/starknet-devnet
 License: MIT
 Keywords: starknet,cairo,testnet,local,server
 Author: FabijanC
 Author-email: fabijan.corak@gmail.com
 Requires-Python: >=3.9,<3.10
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.9
 Requires-Dist: Flask[async] (>=2.0.3,<2.1.0)
 Requires-Dist: Werkzeug (>=2.0.3,<2.1.0)
-Requires-Dist: cairo-lang (==0.11.0.2)
+Requires-Dist: cairo-lang (==0.11.1.1)
 Requires-Dist: cloudpickle (>=2.1.0,<2.2.0)
-Requires-Dist: crypto-cpp-py (>=1.3.0,<1.4.0)
+Requires-Dist: crypto-cpp-py (>=1.4.0,<1.5.0)
 Requires-Dist: flask-cors (>=3.0.10,<3.1.0)
 Requires-Dist: gunicorn (>=20.1.0,<20.2.0)
 Requires-Dist: jsonschema (>=4.17.0,<4.18.0)
 Requires-Dist: marshmallow (>=3.17.0,<3.18.0)
 Requires-Dist: marshmallow-dataclass (>=8.4,<8.5)
-Requires-Dist: poseidon-py (>=0.1.2,<0.2.0)
+Requires-Dist: poseidon-py (>=0.1.3,<0.2.0)
 Requires-Dist: typing-extensions (>=4.3.0,<4.4.0)
 Requires-Dist: web3 (>=6.0.0,<6.1.0)
 Project-URL: Repository, https://github.com/0xSpaceShard/starknet-devnet
 Description-Content-Type: text/markdown
 
 <!-- logo / title -->
 <p align="center" style="margin-bottom: 0px !important">
```

